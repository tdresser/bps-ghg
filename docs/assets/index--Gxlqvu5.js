var ws=Object.defineProperty;var bs=(t,n,e)=>n in t?ws(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var rt=(t,n,e)=>(bs(t,typeof n!="symbol"?n+"":n,e),e),Ur=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var p=(t,n,e)=>(Ur(t,n,"read from private field"),e?e.call(t):n.get(t)),T=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},C=(t,n,e,r)=>(Ur(t,n,"write to private field"),r?r.call(t,e):n.set(t,e),e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function ie(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function xs(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Yi(t){let n,e,r;t.length!==2?(n=ie,e=(a,u)=>ie(t(a),u),r=(a,u)=>t(a)-u):(n=t===ie||t===xs?t:Ss,e=t,r=t);function i(a,u,l=0,c=a.length){if(l<c){if(n(u,u)!==0)return c;do{const f=l+c>>>1;e(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){if(l<c){if(n(u,u)!==0)return c;do{const f=l+c>>>1;e(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:s,right:o}}function Ss(){return 0}function ks(t){return t===null?NaN:+t}const As=Yi(ie),Ns=As.right;Yi(ks).center;const Es=Ns;function Cs(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class tr extends Map{constructor(n,e=Is){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Hr(this,n))}has(n){return super.has(Hr(this,n))}set(n,e){return super.set(Ms(this,n),e)}delete(n){return super.delete(Ts(this,n))}}function Hr({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ms({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Ts({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Is(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rs(t){return t}function Ps(t,n,...e){return Ls(t,Rs,n,e)}function Ls(t,n,e,r){return function i(o,s){if(s>=r.length)return e(o);const a=new tr,u=r[s++];let l=-1;for(const c of o){const f=u(c,++l,o),h=a.get(f);h?h.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,s));return n(a)}(t,0)}const Fs=Math.sqrt(50),Ds=Math.sqrt(10),$s=Math.sqrt(2);function de(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Fs?10:o>=Ds?5:o>=$s?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/s,a=Math.round(t*l),u=Math.round(n*l),a/l<t&&++a,u/l>n&&--u,l=-l):(l=Math.pow(10,i)*s,a=Math.round(t/l),u=Math.round(n/l),a*l<t&&++a,u*l>n&&--u),u<a&&.5<=e&&e<2?de(t,n,e*2):[a,u,l]}function Bs(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,s]=r?de(n,t,e):de(t,n,e);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let l=0;l<a;++l)u[l]=(o-l)/-s;else for(let l=0;l<a;++l)u[l]=(o-l)*s;else if(s<0)for(let l=0;l<a;++l)u[l]=(i+l)/-s;else for(let l=0;l<a;++l)u[l]=(i+l)*s;return u}function nr(t,n,e){return n=+n,t=+t,e=+e,de(t,n,e)[2]}function Os(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?nr(n,t,e):nr(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Be(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Us(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Oe(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Hs(t){return t}var Ue=1,He=2,er=3,xn=4,Vr=1e-6;function Vs(t){return"translate("+t+",0)"}function zs(t){return"translate(0,"+t+")"}function Ws(t){return n=>+t(n)}function qs(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Xs(){return!this.__axis}function ji(t,n){var e=[],r=null,i=null,o=6,s=6,a=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Ue||t===xn?-1:1,c=t===xn||t===He?"x":"y",f=t===Ue||t===er?Vs:zs;function h(d){var g=r??(n.ticks?n.ticks.apply(n,e):n.domain()),_=i??(n.tickFormat?n.tickFormat.apply(n,e):Hs),w=Math.max(o,0)+a,y=n.range(),S=+y[0]+u,v=+y[y.length-1]+u,k=(n.bandwidth?qs:Ws)(n.copy(),u),E=d.selection?d.selection():d,D=E.selectAll(".domain").data([null]),R=E.selectAll(".tick").data(g,n).order(),x=R.exit(),H=R.enter().append("g").attr("class","tick"),P=R.select("line"),N=R.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(H),P=P.merge(H.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),N=N.merge(H.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",t===Ue?"0em":t===er?"0.71em":"0.32em")),d!==E&&(D=D.transition(d),R=R.transition(d),P=P.transition(d),N=N.transition(d),x=x.transition(d).attr("opacity",Vr).attr("transform",function(M){return isFinite(M=k(M))?f(M+u):this.getAttribute("transform")}),H.attr("opacity",Vr).attr("transform",function(M){var B=this.parentNode.__axis;return f((B&&isFinite(B=B(M))?B:k(M))+u)})),x.remove(),D.attr("d",t===xn||t===He?s?"M"+l*s+","+S+"H"+u+"V"+v+"H"+l*s:"M"+u+","+S+"V"+v:s?"M"+S+","+l*s+"V"+u+"H"+v+"V"+l*s:"M"+S+","+u+"H"+v),R.attr("opacity",1).attr("transform",function(M){return f(k(M)+u)}),P.attr(c+"2",l*o),N.attr(c,l*w).text(_),E.filter(Xs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===He?"start":t===xn?"end":"middle"),E.each(function(){this.__axis=k})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=s=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Zi(t){return ji(er,t)}function zr(t){return ji(xn,t)}var Ys={value:()=>{}};function Gi(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new oe(e)}function oe(t){this._=t}function js(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}oe.prototype=Gi.prototype={constructor:oe,on:function(t,n){var e=this._,r=js(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Zs(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Wr(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Wr(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new oe(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Zs(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Wr(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ys,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var rr="http://www.w3.org/1999/xhtml";const qr={svg:"http://www.w3.org/2000/svg",xhtml:rr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ee(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),qr.hasOwnProperty(n)?{space:qr[n],local:t}:t}function Gs(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===rr&&n.documentElement.namespaceURI===rr?n.createElement(t):n.createElementNS(e,t)}}function Ks(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ki(t){var n=Ee(t);return(n.local?Ks:Gs)(n)}function Qs(){}function vr(t){return t==null?Qs:function(){return this.querySelector(t)}}function Js(t){typeof t!="function"&&(t=vr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),u,l,c=0;c<s;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new at(r,this._parents)}function ta(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function na(){return[]}function Qi(t){return t==null?na:function(){return this.querySelectorAll(t)}}function ea(t){return function(){return ta(t.apply(this,arguments))}}function ra(t){typeof t=="function"?t=ea(t):t=Qi(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new at(r,i)}function Ji(t){return function(){return this.matches(t)}}function to(t){return function(n){return n.matches(t)}}var ia=Array.prototype.find;function oa(t){return function(){return ia.call(this.children,t)}}function sa(){return this.firstElementChild}function aa(t){return this.select(t==null?sa:oa(typeof t=="function"?t:to(t)))}var ua=Array.prototype.filter;function ca(){return Array.from(this.children)}function la(t){return function(){return ua.call(this.children,t)}}function fa(t){return this.selectAll(t==null?ca:la(typeof t=="function"?t:to(t)))}function ha(t){typeof t!="function"&&(t=Ji(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new at(r,this._parents)}function no(t){return new Array(t.length)}function da(){return new at(this._enter||this._groups.map(no),this._parents)}function pe(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}pe.prototype={constructor:pe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function pa(t){return function(){return t}}function ga(t,n,e,r,i,o){for(var s=0,a,u=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new pe(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function ma(t,n,e,r,i,o,s){var a,u,l=new Map,c=n.length,f=o.length,h=new Array(c),d;for(a=0;a<c;++a)(u=n[a])&&(h[a]=d=s.call(u,u.__data__,a,n)+"",l.has(d)?i[a]=u:l.set(d,u));for(a=0;a<f;++a)d=s.call(t,o[a],a,o)+"",(u=l.get(d))?(r[a]=u,u.__data__=o[a],l.delete(d)):e[a]=new pe(t,o[a]);for(a=0;a<c;++a)(u=n[a])&&l.get(h[a])===u&&(i[a]=u)}function _a(t){return t.__data__}function ya(t,n){if(!arguments.length)return Array.from(this,_a);var e=n?ma:ga,r=this._parents,i=this._groups;typeof t!="function"&&(t=pa(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,d=va(t.call(c,c&&c.__data__,l,r)),g=d.length,_=a[l]=new Array(g),w=s[l]=new Array(g),y=u[l]=new Array(h);e(c,f,_,w,y,d,n);for(var S=0,v=0,k,E;S<g;++S)if(k=_[S]){for(S>=v&&(v=S+1);!(E=w[v])&&++v<g;);k._next=E||null}}return s=new at(s,r),s._enter=a,s._exit=u,s}function va(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wa(){return new at(this._exit||this._groups.map(no),this._parents)}function ba(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function xa(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=e[u],c=r[u],f=l.length,h=a[u]=new Array(f),d,g=0;g<f;++g)(d=l[g]||c[g])&&(h[g]=d);for(;u<i;++u)a[u]=e[u];return new at(a,this._parents)}function Sa(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ka(t){t||(t=Aa);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,u=i[o]=new Array(a),l,c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(n)}return new at(i,this._parents).order()}function Aa(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Na(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ea(){return Array.from(this)}function Ca(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ma(){let t=0;for(const n of this)++t;return t}function Ta(){return!this.node()}function Ia(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Ra(t){return function(){this.removeAttribute(t)}}function Pa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function La(t,n){return function(){this.setAttribute(t,n)}}function Fa(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Da(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function $a(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ba(t,n){var e=Ee(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Pa:Ra:typeof n=="function"?e.local?$a:Da:e.local?Fa:La)(e,n))}function eo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Oa(t){return function(){this.style.removeProperty(t)}}function Ua(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ha(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Va(t,n,e){return arguments.length>1?this.each((n==null?Oa:typeof n=="function"?Ha:Ua)(t,n,e??"")):gn(this.node(),t)}function gn(t,n){return t.style.getPropertyValue(n)||eo(t).getComputedStyle(t,null).getPropertyValue(n)}function za(t){return function(){delete this[t]}}function Wa(t,n){return function(){this[t]=n}}function qa(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Xa(t,n){return arguments.length>1?this.each((n==null?za:typeof n=="function"?qa:Wa)(t,n)):this.node()[t]}function ro(t){return t.trim().split(/^|\s+/)}function wr(t){return t.classList||new io(t)}function io(t){this._node=t,this._names=ro(t.getAttribute("class")||"")}io.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function oo(t,n){for(var e=wr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function so(t,n){for(var e=wr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ya(t){return function(){oo(this,t)}}function ja(t){return function(){so(this,t)}}function Za(t,n){return function(){(n.apply(this,arguments)?oo:so)(this,t)}}function Ga(t,n){var e=ro(t+"");if(arguments.length<2){for(var r=wr(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Za:n?Ya:ja)(e,n))}function Ka(){this.textContent=""}function Qa(t){return function(){this.textContent=t}}function Ja(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function tu(t){return arguments.length?this.each(t==null?Ka:(typeof t=="function"?Ja:Qa)(t)):this.node().textContent}function nu(){this.innerHTML=""}function eu(t){return function(){this.innerHTML=t}}function ru(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function iu(t){return arguments.length?this.each(t==null?nu:(typeof t=="function"?ru:eu)(t)):this.node().innerHTML}function ou(){this.nextSibling&&this.parentNode.appendChild(this)}function su(){return this.each(ou)}function au(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function uu(){return this.each(au)}function cu(t){var n=typeof t=="function"?t:Ki(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function lu(){return null}function fu(t,n){var e=typeof t=="function"?t:Ki(t),r=n==null?lu:typeof n=="function"?n:vr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function hu(){var t=this.parentNode;t&&t.removeChild(this)}function du(){return this.each(hu)}function pu(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function gu(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function mu(t){return this.select(t?gu:pu)}function _u(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yu(t){return function(n){t.call(this,n,this.__data__)}}function vu(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function wu(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function bu(t,n,e){return function(){var r=this.__on,i,o=yu(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function xu(t,n,e){var r=vu(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=n?bu:wu,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function ao(t,n,e){var r=eo(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Su(t,n){return function(){return ao(this,t,n)}}function ku(t,n){return function(){return ao(this,t,n.apply(this,arguments))}}function Au(t,n){return this.each((typeof n=="function"?ku:Su)(t,n))}function*Nu(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var uo=[null];function at(t,n){this._groups=t,this._parents=n}function Xn(){return new at([[document.documentElement]],uo)}function Eu(){return this}at.prototype=Xn.prototype={constructor:at,select:Js,selectAll:ra,selectChild:aa,selectChildren:fa,filter:ha,data:ya,enter:da,exit:wa,join:ba,merge:xa,selection:Eu,order:Sa,sort:ka,call:Na,nodes:Ea,node:Ca,size:Ma,empty:Ta,each:Ia,attr:Ba,style:Va,property:Xa,classed:Ga,text:tu,html:iu,raise:su,lower:uu,append:cu,insert:fu,remove:du,clone:mu,datum:_u,on:xu,dispatch:Au,[Symbol.iterator]:Nu};function co(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],uo)}function br(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function lo(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Yn(){}var Cn=.7,ge=1/Cn,un="\\s*([+-]?\\d+)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",St="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cu=/^#([0-9a-f]{3,8})$/,Mu=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),Tu=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),Iu=new RegExp(`^rgba\\(${un},${un},${un},${Mn}\\)$`),Ru=new RegExp(`^rgba\\(${St},${St},${St},${Mn}\\)$`),Pu=new RegExp(`^hsl\\(${Mn},${St},${St}\\)$`),Lu=new RegExp(`^hsla\\(${Mn},${St},${St},${Mn}\\)$`),Xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};br(Yn,Jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yr,formatHex:Yr,formatHex8:Fu,formatHsl:Du,formatRgb:jr,toString:jr});function Yr(){return this.rgb().formatHex()}function Fu(){return this.rgb().formatHex8()}function Du(){return fo(this).formatHsl()}function jr(){return this.rgb().formatRgb()}function Jt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Cu.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Zr(n):e===3?new st(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Kn(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Kn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Mu.exec(t))?new st(n[1],n[2],n[3],1):(n=Tu.exec(t))?new st(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Iu.exec(t))?Kn(n[1],n[2],n[3],n[4]):(n=Ru.exec(t))?Kn(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Pu.exec(t))?Qr(n[1],n[2]/100,n[3]/100,1):(n=Lu.exec(t))?Qr(n[1],n[2]/100,n[3]/100,n[4]):Xr.hasOwnProperty(t)?Zr(Xr[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function Zr(t){return new st(t>>16&255,t>>8&255,t&255,1)}function Kn(t,n,e,r){return r<=0&&(t=n=e=NaN),new st(t,n,e,r)}function $u(t){return t instanceof Yn||(t=Jt(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function ir(t,n,e,r){return arguments.length===1?$u(t):new st(t,n,e,r??1)}function st(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}br(st,ir,lo(Yn,{brighter(t){return t=t==null?ge:Math.pow(ge,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st(Kt(this.r),Kt(this.g),Kt(this.b),me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gr,formatHex:Gr,formatHex8:Bu,formatRgb:Kr,toString:Kr}));function Gr(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}`}function Bu(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}${Xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kr(){const t=me(this.opacity);return`${t===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${t===1?")":`, ${t})`}`}function me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xt(t){return t=Kt(t),(t<16?"0":"")+t.toString(16)}function Qr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new dt(t,n,e,r)}function fo(t){if(t instanceof dt)return new dt(t.h,t.s,t.l,t.opacity);if(t instanceof Yn||(t=Jt(t)),!t)return new dt;if(t instanceof dt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,u=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new dt(s,a,u,t.opacity)}function Ou(t,n,e,r){return arguments.length===1?fo(t):new dt(t,n,e,r??1)}function dt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}br(dt,Ou,lo(Yn,{brighter(t){return t=t==null?ge:Math.pow(ge,t),new dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new st(Ve(t>=240?t-240:t+120,i,r),Ve(t,i,r),Ve(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new dt(Jr(this.h),Qn(this.s),Qn(this.l),me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=me(this.opacity);return`${t===1?"hsl(":"hsla("}${Jr(this.h)}, ${Qn(this.s)*100}%, ${Qn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jr(t){return t=(t||0)%360,t<0?t+360:t}function Qn(t){return Math.max(0,Math.min(1,t||0))}function Ve(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const xr=t=>()=>t;function Uu(t,n){return function(e){return t+e*n}}function Hu(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Vu(t){return(t=+t)==1?ho:function(n,e){return e-n?Hu(n,e,t):xr(isNaN(n)?e:n)}}function ho(t,n){var e=n-t;return e?Uu(t,e):xr(isNaN(t)?n:t)}const _e=function t(n){var e=Vu(n);function r(i,o){var s=e((i=ir(i)).r,(o=ir(o)).r),a=e(i.g,o.g),u=e(i.b,o.b),l=ho(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function zu(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Wu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qu(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),s;for(s=0;s<r;++s)i[s]=Sr(t[s],n[s]);for(;s<e;++s)o[s]=n[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Xu(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function ht(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Yu(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Sr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var or=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ze=new RegExp(or.source,"g");function ju(t){return function(){return t}}function Zu(t){return function(n){return t(n)+""}}function po(t,n){var e=or.lastIndex=ze.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",n=n+"";(r=or.exec(t))&&(i=ze.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:ht(r,i)})),e=ze.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Zu(u[0].x):ju(n):(n=u.length,function(l){for(var c=0,f;c<n;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Sr(t,n){var e=typeof n,r;return n==null||e==="boolean"?xr(n):(e==="number"?ht:e==="string"?(r=Jt(n))?(n=r,_e):po:n instanceof Jt?_e:n instanceof Date?Xu:Wu(n)?zu:Array.isArray(n)?qu:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Yu:ht)(t,n)}function Gu(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ti=180/Math.PI,sr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function go(t,n,e,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,u/=a),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ti,skewX:Math.atan(u)*ti,scaleX:s,scaleY:a}}var Jn;function Ku(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?sr:go(n.a,n.b,n.c,n.d,n.e,n.f)}function Qu(t){return t==null||(Jn||(Jn=document.createElementNS("http://www.w3.org/2000/svg","g")),Jn.setAttribute("transform",t),!(t=Jn.transform.baseVal.consolidate()))?sr:(t=t.matrix,go(t.a,t.b,t.c,t.d,t.e,t.f))}function mo(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,h,d,g){if(l!==f||c!==h){var _=d.push("translate(",null,n,null,e);g.push({i:_-4,x:ht(l,f)},{i:_-2,x:ht(c,h)})}else(f||h)&&d.push("translate("+f+n+h+e)}function s(l,c,f,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ht(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,h){l!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ht(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,h,d,g){if(l!==f||c!==h){var _=d.push(i(d)+"scale(",null,",",null,")");g.push({i:_-4,x:ht(l,f)},{i:_-2,x:ht(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,c){var f=[],h=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,h),s(l.rotate,c.rotate,f,h),a(l.skewX,c.skewX,f,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,h),l=c=null,function(d){for(var g=-1,_=h.length,w;++g<_;)f[(w=h[g]).i]=w.x(d);return f.join("")}}}var Ju=mo(Ku,"px, ","px)","deg)"),tc=mo(Qu,", ",")",")"),mn=0,Sn=0,wn=0,_o=1e3,ye,kn,ve=0,tn=0,Ce=0,Tn=typeof performance=="object"&&performance.now?performance:Date,yo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kr(){return tn||(yo(nc),tn=Tn.now()+Ce)}function nc(){tn=0}function we(){this._call=this._time=this._next=null}we.prototype=vo.prototype={constructor:we,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?kr():+e)+(n==null?0:+n),!this._next&&kn!==this&&(kn?kn._next=this:ye=this,kn=this),this._call=t,this._time=e,ar()},stop:function(){this._call&&(this._call=null,this._time=1/0,ar())}};function vo(t,n,e){var r=new we;return r.restart(t,n,e),r}function ec(){kr(),++mn;for(var t=ye,n;t;)(n=tn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--mn}function ni(){tn=(ve=Tn.now())+Ce,mn=Sn=0;try{ec()}finally{mn=0,ic(),tn=0}}function rc(){var t=Tn.now(),n=t-ve;n>_o&&(Ce-=n,ve=t)}function ic(){for(var t,n=ye,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ye=e);kn=t,ar(r)}function ar(t){if(!mn){Sn&&(Sn=clearTimeout(Sn));var n=t-tn;n>24?(t<1/0&&(Sn=setTimeout(ni,t-Tn.now()-Ce)),wn&&(wn=clearInterval(wn))):(wn||(ve=Tn.now(),wn=setInterval(rc,_o)),mn=1,yo(ni))}}function ei(t,n,e){var r=new we;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var oc=Gi("start","end","cancel","interrupt"),sc=[],wo=0,ri=1,ur=2,se=3,ii=4,cr=5,ae=6;function Me(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;ac(t,e,{name:n,index:r,group:i,on:oc,tween:sc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wo})}function Ar(t,n){var e=pt(t,n);if(e.state>wo)throw new Error("too late; already scheduled");return e}function At(t,n){var e=pt(t,n);if(e.state>se)throw new Error("too late; already running");return e}function pt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ac(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=vo(o,0,e.time);function o(l){e.state=ri,e.timer.restart(s,e.delay,e.time),e.delay<=l&&s(l-e.delay)}function s(l){var c,f,h,d;if(e.state!==ri)return u();for(c in r)if(d=r[c],d.name===e.name){if(d.state===se)return ei(s);d.state===ii?(d.state=ae,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<n&&(d.state=ae,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(ei(function(){e.state===se&&(e.state=ii,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=ur,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ur){for(e.state=se,i=new Array(h=e.tween.length),c=0,f=-1;c<h;++c)(d=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=d);i.length=f+1}}function a(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=cr,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);e.state===cr&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=ae,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function uc(t,n){var e=t.__transition,r,i,o=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>ur&&r.state<cr,r.state=ae,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function cc(t){return this.each(function(){uc(this,t)})}function lc(t,n){var e,r;return function(){var i=At(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function fc(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=At(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function hc(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?lc:fc)(e,t,n))}function Nr(t,n,e){var r=t._id;return t.each(function(){var i=At(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return pt(i,r).value[n]}}function bo(t,n){var e;return(typeof n=="number"?ht:n instanceof Jt?_e:(e=Jt(n))?(n=e,_e):po)(t,n)}function dc(t){return function(){this.removeAttribute(t)}}function pc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gc(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function mc(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function _c(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function yc(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function vc(t,n){var e=Ee(t),r=e==="transform"?tc:bo;return this.attrTween(t,typeof n=="function"?(e.local?yc:_c)(e,r,Nr(this,"attr."+t,n)):n==null?(e.local?pc:dc)(e):(e.local?mc:gc)(e,r,n))}function wc(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function bc(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function xc(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&bc(t,o)),e}return i._value=n,i}function Sc(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&wc(t,o)),e}return i._value=n,i}function kc(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Ee(t);return this.tween(e,(r.local?xc:Sc)(r,n))}function Ac(t,n){return function(){Ar(this,t).delay=+n.apply(this,arguments)}}function Nc(t,n){return n=+n,function(){Ar(this,t).delay=n}}function Ec(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Ac:Nc)(n,t)):pt(this.node(),n).delay}function Cc(t,n){return function(){At(this,t).duration=+n.apply(this,arguments)}}function Mc(t,n){return n=+n,function(){At(this,t).duration=n}}function Tc(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Cc:Mc)(n,t)):pt(this.node(),n).duration}function Ic(t,n){if(typeof n!="function")throw new Error;return function(){At(this,t).ease=n}}function Rc(t){var n=this._id;return arguments.length?this.each(Ic(n,t)):pt(this.node(),n).ease}function Pc(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;At(this,t).ease=e}}function Lc(t){if(typeof t!="function")throw new Error;return this.each(Pc(this._id,t))}function Fc(t){typeof t!="function"&&(t=Ji(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Lt(r,this._parents,this._name,this._id)}function Dc(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=n[a],l=e[a],c=u.length,f=s[a]=new Array(c),h,d=0;d<c;++d)(h=u[d]||l[d])&&(f[d]=h);for(;a<r;++a)s[a]=n[a];return new Lt(s,this._parents,this._name,this._id)}function $c(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Bc(t,n,e){var r,i,o=$c(n)?Ar:At;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function Oc(t,n){var e=this._id;return arguments.length<2?pt(this.node(),e).on.on(t):this.each(Bc(e,t,n))}function Uc(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Hc(){return this.on("end.remove",Uc(this._id))}function Vc(t){var n=this._name,e=this._id;typeof t!="function"&&(t=vr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),c,f,h=0;h<u;++h)(c=a[h])&&(f=t.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f,Me(l[h],n,e,h,l,pt(c,e)));return new Lt(o,this._parents,n,e)}function zc(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Qi(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,g=pt(c,e),_=0,w=h.length;_<w;++_)(d=h[_])&&Me(d,n,e,_,h,g);o.push(h),s.push(c)}return new Lt(o,s,n,e)}var Wc=Xn.prototype.constructor;function qc(){return new Wc(this._groups,this._parents)}function Xc(t,n){var e,r,i;return function(){var o=gn(this,t),s=(this.style.removeProperty(t),gn(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function xo(t){return function(){this.style.removeProperty(t)}}function Yc(t,n,e){var r,i=e+"",o;return function(){var s=gn(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function jc(t,n,e){var r,i,o;return function(){var s=gn(this,t),a=e(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),gn(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Zc(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var u=At(this,t),l=u.on,c=u.value[o]==null?a||(a=xo(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(s,i=c),u.on=r}}function Gc(t,n,e){var r=(t+="")=="transform"?Ju:bo;return n==null?this.styleTween(t,Xc(t,r)).on("end.style."+t,xo(t)):typeof n=="function"?this.styleTween(t,jc(t,r,Nr(this,"style."+t,n))).each(Zc(this._id,t)):this.styleTween(t,Yc(t,r,n),e).on("end.style."+t,null)}function Kc(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Qc(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&Kc(t,s,e)),r}return o._value=n,o}function Jc(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Qc(t,n,e??""))}function tl(t){return function(){this.textContent=t}}function nl(t){return function(){var n=t(this);this.textContent=n??""}}function el(t){return this.tween("text",typeof t=="function"?nl(Nr(this,"text",t)):tl(t==null?"":t+""))}function rl(t){return function(n){this.textContent=t.call(this,n)}}function il(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&rl(i)),n}return r._value=t,r}function ol(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,il(t))}function sl(){for(var t=this._name,n=this._id,e=So(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var c=pt(u,n);Me(u,t,e,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Lt(r,this._parents,t,e)}function al(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};e.each(function(){var l=At(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),l.on=n}),i===0&&o()})}var ul=0;function Lt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function So(){return++ul}var Ct=Xn.prototype;Lt.prototype={constructor:Lt,select:Vc,selectAll:zc,selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:Fc,merge:Dc,selection:qc,transition:sl,call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:Oc,attr:vc,attrTween:kc,style:Gc,styleTween:Jc,text:el,textTween:ol,remove:Hc,tween:hc,delay:Ec,duration:Tc,ease:Rc,easeVarying:Lc,end:al,[Symbol.iterator]:Ct[Symbol.iterator]};function cl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ll={time:null,delay:0,duration:250,ease:cl};function fl(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function hl(t){var n,e;t instanceof Lt?(n=t._id,t=t._name):(n=So(),(e=ll).time=kr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&Me(u,t,n,l,s,e||fl(u,n));return new Lt(r,this._parents,t,n)}Xn.prototype.interrupt=cc;Xn.prototype.transition=hl;const lr=Math.PI,fr=2*lr,qt=1e-6,dl=fr-qt;function ko(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function pl(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ko;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class gl{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?ko:pl(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,s){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-n,l=i-e,c=s-n,f=a-e,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>qt)if(!(Math.abs(f*u-l*c)>qt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-s,g=i-a,_=u*u+l*l,w=d*d+g*g,y=Math.sqrt(_),S=Math.sqrt(h),v=o*Math.tan((lr-Math.acos((_+h-w)/(2*y*S)))/2),k=v/S,E=v/y;Math.abs(k-1)>qt&&this._append`L${n+k*c},${e+k*f}`,this._append`A${o},${o},0,0,${+(f*d>c*g)},${this._x1=n+E*u},${this._y1=e+E*l}`}}arc(n,e,r,i,o,s){if(n=+n,e=+e,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=n+a,c=e+u,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>qt||Math.abs(this._y1-c)>qt)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%fr+fr),h>dl?this._append`A${r},${r},0,1,${f},${n-a},${e-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:h>qt&&this._append`A${r},${r},0,${+(h>=lr)},${f},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var oi={},We={},qe=34,bn=10,Xe=13;function Ao(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function ml(t,n){var e=Ao(t);return function(r,i){return n(e(r),i,t)}}function si(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function it(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function _l(t){return t<0?"-"+it(-t,6):t>9999?"+"+it(t,6):it(t,4)}function yl(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":_l(t.getUTCFullYear())+"-"+it(t.getUTCMonth()+1,2)+"-"+it(t.getUTCDate(),2)+(i?"T"+it(n,2)+":"+it(e,2)+":"+it(r,2)+"."+it(i,3)+"Z":r?"T"+it(n,2)+":"+it(e,2)+":"+it(r,2)+"Z":e||n?"T"+it(n,2)+":"+it(e,2)+"Z":"")}function vl(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(f,h){var d,g,_=i(f,function(w,y){if(d)return d(w,y-1);g=w,d=h?ml(w,h):Ao(w)});return _.columns=g||[],_}function i(f,h){var d=[],g=f.length,_=0,w=0,y,S=g<=0,v=!1;f.charCodeAt(g-1)===bn&&--g,f.charCodeAt(g-1)===Xe&&--g;function k(){if(S)return We;if(v)return v=!1,oi;var D,R=_,x;if(f.charCodeAt(R)===qe){for(;_++<g&&f.charCodeAt(_)!==qe||f.charCodeAt(++_)===qe;);return(D=_)>=g?S=!0:(x=f.charCodeAt(_++))===bn?v=!0:x===Xe&&(v=!0,f.charCodeAt(_)===bn&&++_),f.slice(R+1,D-1).replace(/""/g,'"')}for(;_<g;){if((x=f.charCodeAt(D=_++))===bn)v=!0;else if(x===Xe)v=!0,f.charCodeAt(_)===bn&&++_;else if(x!==e)continue;return f.slice(R,D)}return S=!0,f.slice(R,g)}for(;(y=k())!==We;){for(var E=[];y!==oi&&y!==We;)E.push(y),y=k();h&&(E=h(E,w++))==null||d.push(E)}return d}function o(f,h){return f.map(function(d){return h.map(function(g){return c(d[g])}).join(t)})}function s(f,h){return h==null&&(h=si(f)),[h.map(c).join(t)].concat(o(f,h)).join(`
`)}function a(f,h){return h==null&&(h=si(f)),o(f,h).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?yl(f):n.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var wl=vl(","),bl=wl.parse;function xl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function be(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function _n(t){return t=be(Math.abs(t)),t?t[1]:NaN}function Sl(t,n){return function(e,r){for(var i=e.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(e.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}}function kl(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Al=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xe(t){if(!(n=Al.exec(t)))throw new Error("invalid format: "+t);var n;return new Er({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}xe.prototype=Er.prototype;function Er(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nl(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var No;function El(t,n){var e=be(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(No=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+be(t,Math.max(0,n+o-1))[0]}function ai(t,n){var e=be(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ui={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xl,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ai(t*100,n),r:ai,s:El,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ci(t){return t}var li=Array.prototype.map,fi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cl(t){var n=t.grouping===void 0||t.thousands===void 0?ci:Sl(li.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ci:kl(li.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=xe(f);var h=f.fill,d=f.align,g=f.sign,_=f.symbol,w=f.zero,y=f.width,S=f.comma,v=f.precision,k=f.trim,E=f.type;E==="n"?(S=!0,E="g"):ui[E]||(v===void 0&&(v=12),k=!0,E="g"),(w||h==="0"&&d==="=")&&(w=!0,h="0",d="=");var D=_==="$"?e:_==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",R=_==="$"?r:/[%p]/.test(E)?s:"",x=ui[E],H=/[defgprs%]/.test(E);v=v===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function P(N){var M=D,B=R,O,Dt,Ht;if(E==="c")B=x(N)+B,N="";else{N=+N;var Vt=N<0||1/N<0;if(N=isNaN(N)?u:x(Math.abs(N),v),k&&(N=Nl(N)),Vt&&+N==0&&g!=="+"&&(Vt=!1),M=(Vt?g==="("?g:a:g==="-"||g==="("?"":g)+M,B=(E==="s"?fi[8+No/3]:"")+B+(Vt&&g==="("?")":""),H){for(O=-1,Dt=N.length;++O<Dt;)if(Ht=N.charCodeAt(O),48>Ht||Ht>57){B=(Ht===46?i+N.slice(O+1):N.slice(O))+B,N=N.slice(0,O);break}}}S&&!w&&(N=n(N,1/0));var en=M.length+N.length+B.length,ut=en<y?new Array(y-en+1).join(h):"";switch(S&&w&&(N=n(ut+N,ut.length?y-B.length:1/0),ut=""),d){case"<":N=M+N+B+ut;break;case"=":N=M+ut+N+B;break;case"^":N=ut.slice(0,en=ut.length>>1)+M+N+B+ut.slice(en);break;default:N=ut+M+N+B;break}return o(N)}return P.toString=function(){return f+""},P}function c(f,h){var d=l((f=xe(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(_n(h)/3)))*3,_=Math.pow(10,-g),w=fi[8+g/3];return function(y){return d(_*y)+w}}return{format:l,formatPrefix:c}}var te,Eo,Co;Ml({thousands:",",grouping:[3],currency:["$",""]});function Ml(t){return te=Cl(t),Eo=te.format,Co=te.formatPrefix,te}function Tl(t){return Math.max(0,-_n(Math.abs(t)))}function Il(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_n(n)/3)))*3-_n(Math.abs(t)))}function Rl(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,_n(n)-_n(t))+1}function Cr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const hi=Symbol("implicit");function Mo(){var t=new tr,n=[],e=[],r=hi;function i(o){let s=t.get(o);if(s===void 0){if(r!==hi)return r;t.set(o,s=n.push(o)-1)}return e[s%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new tr;for(const s of o)t.has(s)||t.set(s,n.push(s)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Mo(n,e).unknown(r)},Cr.apply(i,arguments),i}function To(){var t=Mo().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,s,a=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var h=n().length,d=i<r,g=d?i:r,_=d?r:i;o=(_-g)/Math.max(1,h-u+l*2),a&&(o=Math.floor(o)),g+=(_-g-o*(h-u))*c,s=o*(1-u),a&&(g=Math.round(g),s=Math.round(s));var w=Us(h).map(function(y){return g+o*y});return e(d?w.reverse():w)}return t.domain=function(h){return arguments.length?(n(h),f()):n()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),f()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},t.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return To(n(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},Cr.apply(f(),arguments)}function Pl(t){return function(){return t}}function Ll(t){return+t}var di=[0,1];function sn(t){return t}function hr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Pl(isNaN(n)?NaN:.5)}function Fl(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Dl(t,n,e){var r=t[0],i=t[1],o=n[0],s=n[1];return i<r?(r=hr(i,r),o=e(s,o)):(r=hr(r,i),o=e(o,s)),function(a){return o(r(a))}}function $l(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)i[s]=hr(t[s],t[s+1]),o[s]=e(n[s],n[s+1]);return function(a){var u=Es(t,a,1,r)-1;return o[u](i[u](a))}}function Bl(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ol(){var t=di,n=di,e=Sr,r,i,o,s=sn,a,u,l;function c(){var h=Math.min(t.length,n.length);return s!==sn&&(s=Fl(t[0],t[h-1])),a=h>2?$l:Dl,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),n,e)))(r(s(h)))}return f.invert=function(h){return s(i((l||(l=a(n,t.map(r),ht)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ll),c()):t.slice()},f.range=function(h){return arguments.length?(n=Array.from(h),c()):n.slice()},f.rangeRound=function(h){return n=Array.from(h),e=Gu,c()},f.clamp=function(h){return arguments.length?(s=h?!0:sn,c()):s!==sn},f.interpolate=function(h){return arguments.length?(e=h,c()):e},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return r=h,i=d,c()}}function Ul(){return Ol()(sn,sn)}function Hl(t,n,e,r){var i=Os(t,n,e),o;switch(r=xe(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=Il(i,s))&&(r.precision=o),Co(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Rl(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Tl(i))&&(r.precision=o-(r.type==="%")*2);break}}return Eo(r)}function Vl(t){var n=t.domain;return t.ticks=function(e){var r=n();return Bs(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Hl(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if(l=nr(s,a,e),l===u)return r[i]=s,r[o]=a,n(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function Se(){var t=Ul();return t.copy=function(){return Bl(t,Se())},Cr.apply(t,arguments),Vl(t)}function rn(t){return function(){return t}}function zl(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new gl(n)}function Wl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Io(t){this._context=t}Io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function ql(t){return new Io(t)}function Xl(t){return t[0]}function Yl(t){return t[1]}function jl(t,n){var e=rn(!0),r=null,i=ql,o=null,s=zl(a);t=typeof t=="function"?t:t===void 0?Xl:rn(t),n=typeof n=="function"?n:n===void 0?Yl:rn(n);function a(u){var l,c=(u=Wl(u)).length,f,h=!1,d;for(r==null&&(o=i(d=s())),l=0;l<=c;++l)!(l<c&&e(f=u[l],l,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,l,u),+n(f,l,u));if(d)return o=null,d+""||null}return a.x=function(u){return arguments.length?(t=typeof u=="function"?u:rn(+u),a):t},a.y=function(u){return arguments.length?(n=typeof u=="function"?u:rn(+u),a):n},a.defined=function(u){return arguments.length?(e=typeof u=="function"?u:rn(!!u),a):e},a.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),a):r},a}function An(t,n,e){this.k=t,this.x=n,this.y=e}An.prototype={constructor:An,scale:function(t){return t===1?this:new An(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new An(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};An.prototype;const Zl="/bps-ghg/assets/data.csv-JVISiW5W.gzip";function W(t){throw t?new Error("Failure"):new Error(t)}function pi(){return new Promise(t=>setTimeout(t,0))}var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kl={Other:0,CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192};const Ql="ABAOAAAAAACwiAAAAYkHdvjtnH+IFkUYxx/v3vPe7uw8UkjsD43ChKICDQsT3iIJy4gSiZAjkn5JUFlaiFmjccT9ESkpGBGVIlQgWSkY/QDBoMgrQv0jRJDAfkCXhUmgRX23d4ebnndmd3Z3ZnfVeeDDzM7MPs8zv57Zd2+5hd1Ed4ClYAisBuuUsqLpMHgJjIBNFu1fBW8l1O8AO8Ee8Cn4HIyCg+CI0u4Y+AmMgVPgDOhuEHWBPjAZXAy2gjfA9kb73hlx+i7SK8AHYDf4BOwHB8AoOAyOguPgB/ArOKlcnwHdPe32/Uin9LTvvwTph0gv62nbubKnXT+nZ1z/DcjfFF8vQno7uEaxH923BGVXN9v5Zcgvj/VFPIT8Y/H1k0jXxPn1SEfARjBdab8V+TfB22CXUh5xd3OcZTH3g6di1LZJbLNs55q96M9n4J9Gm6hsfzQvcT8fbfy//TyUf8vG4Lses/5jcd2PSE/IcQan4/o/UXYadE0kaoJBMG1ivNbidNbETr1XoWyuplwyHFN0fFai/8/EY7BIKY/68EpCvwP+mc/m/2vNGnBhp1eZ51bCmgsEAoFAIBAIBAKBQKAO3Irfrg3lfc4qi/cXd+Kee5TfvAd6ieY0ie5D2cNx+eNInwZLmu33gWuRn4/8C3H9CNJNYEt8/TrS35HuSPktvRP1z0LPOvAceB4IsB5saIa6UBfqQl2oc123AjwBVjWrP7MCgcC5y/ue/56yqXv87+qcIU2Z+ny8tuHHpyxsvrDNITDXgqkDRJcPdJY/wMo24/oQmDqZaPHkdplAuhv8ApqDRDeCVj/OAvD9BUSX9qF8Qpt7lTxnZ7+5TmVtrGMM7XchP3sS0SNgGzg4yU5HIBAIBM5NfsO5QDgfjuM54STOw7/Az/F3QtfhfF4Qn9F/gxMouxm/WU7F9afBQuUM7+rtPF+jb0b6ese/I7sI+emadhEzUT5bqbsW+esNbSMWoG6hWo/8gOLPUqUu+v5rKEHX8oS6iEXQexd7XlmBe1aCNWAp6kSsYyjHc82Liv2Xkd/C/HkN1w/Geren+KryToa2PtlQg2c9zijGZnGJ9kaibzZh84jmmfx4TeYpK9H3usMKqxnDCWxsdLY/3ygy9h+l/LYbYHtuXw2/rfsSPo0a/Jrn6PvPrzL2+7CmfV88lkc9j+F7cRzYU4N48DF8uA3n/T7Fly9q4Jdvoth0uLf9LORC11hvO/0D6RnQfRa99+2Hr1NS/M26VvfEe2jaWTAOvG8zzgKf8zCrYL++qUEfbumeQAjTVnQp+QmW99gQpDoJ4+9uHZe5/l3OW/M8x6WUZaduUvUc5p13NTXlz3VpGbCVrGNe5zOnjvGlrDWY1IdWShuuQ9fWh6h+VSV1Wit1lvNhHFz1zeUYtCg5ntvOSStDW5cITRnF5RJ+rcasJHExztwu910tl6LzLYsvuvvzilB0mvSaxt/V+SY0EMurfkjbrTjfInf+FJGkNdzSlOukZaDo3snqs7RZpqj2Gx7sS52D5O79k+93W2W/T3NhQxe3VeF16pwn4eI8qev7Sl1s0PnPy5PalSV57Pp6XuDxrypR9wBR8nOCzm/eXuYp5d4s/lV1XvL+lG2b+2AaQ1nPr23Hrc7z0WT5qvZL0v7QtdX5zdu6HMei+gV1ri8et4XSVpCfdeB7fRWNRy79UP0RCT4Jyre/88bbKsQUawUrV69dxjd+nlXxbCKos79pz1BpOqucz0gEdZ5hMk+aa7Wdy/7xZ5Yqhc+nyHivrkyQ/reM7tziuFojfM7zxtq0505XYutvHrtVnzNl2ONrTGdPkLv9ZjNHOoShnCh5nLLYKOKfK4qK7bjx/gqyj9lFJc2Wz/HIqyMSYaGnqM8+xp6vB1/6feg22UmLFUno1rurvelz7yT1UVfORW3L7+d6fMcAXdzxIVK3TNNioZpSyj2242izpky6y5S0fpr6q5ZXJT7O1qrmQRVB+rkQ1Dk3vvYttyGoc+51/mUVkYLtXvTx7MCvbUnzW2czyR8pql4XUlbcN9l1pSfPfOl0JV2bylyKoM4959sHQfr9Vpbk2V8u4ry0ndcvH5I1xggP9qVem/PHZL+qeGLrc945tLnHtG/LEtdjr4urxMpM92X1RZDd+pLtsorUydeCaiuvbtdSpQ9l2M4SU01nvI1e35L3uS5Jlw8pe1ykCKo2JtrGK9O9ujOlimcD6Y9LEWQ+7019d2VDLVPrTCLrsvjsQ1TfJVJM12pZmm5b4Xptx6HM9SpFkP2c6drJa5/iSr+pD7r+CNLvATVfpST1RYog/fwKTdsyxLVNQfnWrkyziGltJK2hLLptzjHXIsh+/HytmyQfpPA5VNtzXWWLzbiVsc9sbWSJ7UWE69KNh6v9kya2c6TzMa0fwpD37TtvQ6wuiw9CA9cny33Mj2pLte9Kp6996HO/83HPQ5r+ov5mvU9Qte/fIrGJP7axPO/9eXX6kjLPKZNd17iyZdOHLP31JSbfXY6hC59c+ZZ136TZ9SFlj6cvmVkSrkSQn3NG5KBqEVSeH6Ji/vvnhFWjSlfFNDwzyMgqLvvKxXffbeASBWo+Zj4p2x6TfwE=",Jl={data:Ql},tf="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",nf={data:tf};var Mr=0,Ro=-3;function In(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function ef(t,n){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=n,this.destLen=0,this.ltree=new In,this.dtree=new In}var Po=new In,Lo=new In,Tr=new Uint8Array(30),Ir=new Uint16Array(30),Fo=new Uint8Array(30),Do=new Uint16Array(30),rf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gi=new In,gt=new Uint8Array(320);function $o(t,n,e,r){var i,o;for(i=0;i<e;++i)t[i]=0;for(i=0;i<30-e;++i)t[i+e]=i/e|0;for(o=r,i=0;i<30;++i)n[i]=o,o+=1<<t[i]}function of(t,n){var e;for(e=0;e<7;++e)t.table[e]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,e=0;e<24;++e)t.trans[e]=256+e;for(e=0;e<144;++e)t.trans[24+e]=e;for(e=0;e<8;++e)t.trans[168+e]=280+e;for(e=0;e<112;++e)t.trans[176+e]=144+e;for(e=0;e<5;++e)n.table[e]=0;for(n.table[5]=32,e=0;e<32;++e)n.trans[e]=e}var mi=new Uint16Array(16);function je(t,n,e,r){var i,o;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[n[e+i]]++;for(t.table[0]=0,o=0,i=0;i<16;++i)mi[i]=o,o+=t.table[i];for(i=0;i<r;++i)n[e+i]&&(t.trans[mi[n[e+i]]++]=i)}function sf(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var n=t.tag&1;return t.tag>>>=1,n}function _t(t,n,e){if(!n)return e;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-n;return t.tag>>>=n,t.bitcount-=n,r+e}function dr(t,n){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var e=0,r=0,i=0,o=t.tag;do r=2*r+(o&1),o>>>=1,++i,e+=n.table[i],r-=n.table[i];while(r>=0);return t.tag=o,t.bitcount-=i,n.trans[e+r]}function af(t,n,e){var r,i,o,s,a,u;for(r=_t(t,5,257),i=_t(t,5,1),o=_t(t,4,4),s=0;s<19;++s)gt[s]=0;for(s=0;s<o;++s){var l=_t(t,3,0);gt[rf[s]]=l}for(je(gi,gt,0,19),a=0;a<r+i;){var c=dr(t,gi);switch(c){case 16:var f=gt[a-1];for(u=_t(t,2,3);u;--u)gt[a++]=f;break;case 17:for(u=_t(t,3,3);u;--u)gt[a++]=0;break;case 18:for(u=_t(t,7,11);u;--u)gt[a++]=0;break;default:gt[a++]=c;break}}je(n,gt,0,r),je(e,gt,r,i)}function _i(t,n,e){for(;;){var r=dr(t,n);if(r===256)return Mr;if(r<256)t.dest[t.destLen++]=r;else{var i,o,s,a;for(r-=257,i=_t(t,Tr[r],Ir[r]),o=dr(t,e),s=t.destLen-_t(t,Fo[o],Do[o]),a=s;a<s+i;++a)t.dest[t.destLen++]=t.dest[a]}}}function uf(t){for(var n,e,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(n=t.source[t.sourceIndex+1],n=256*n+t.source[t.sourceIndex],e=t.source[t.sourceIndex+3],e=256*e+t.source[t.sourceIndex+2],n!==(~e&65535))return Ro;for(t.sourceIndex+=4,r=n;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,Mr}function cf(t,n){var e=new ef(t,n),r,i,o;do{switch(r=sf(e),i=_t(e,2,0),i){case 0:o=uf(e);break;case 1:o=_i(e,Po,Lo);break;case 2:af(e,e.ltree,e.dtree),o=_i(e,e.ltree,e.dtree);break;default:o=Ro}if(o!==Mr)throw new Error("Data error")}while(!r);return e.destLen<e.dest.length?typeof e.dest.slice=="function"?e.dest.slice(0,e.destLen):e.dest.subarray(0,e.destLen):e.dest}of(Po,Lo);$o(Tr,Ir,4,3);$o(Fo,Do,2,1);Tr[28]=0;Ir[28]=258;var lf=cf;const ff=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,yi=(t,n,e)=>{let r=t[n];t[n]=t[e],t[e]=r},hf=t=>{const n=t.length;for(let e=0;e<n;e+=4)yi(t,e,e+3),yi(t,e+1,e+2)},df=t=>{ff&&hf(t)};var pf={swap32LE:df};const vi=lf,{swap32LE:gf}=pf,Rr=11,Qt=5,mf=Rr-Qt,_f=65536>>Rr,yf=1<<mf,vf=yf-1,ue=2,wf=1<<Qt,Ze=wf-1,Bo=65536>>Qt,bf=1024>>Qt,xf=Bo+bf,Sf=xf,kf=32,Af=Sf+kf,Nf=1<<ue;let Ef=class{constructor(n){const e=typeof n.readUInt32BE=="function"&&typeof n.slice=="function";if(e||n instanceof Uint8Array){let r;if(e)this.highStart=n.readUInt32LE(0),this.errorValue=n.readUInt32LE(4),r=n.readUInt32LE(8),n=n.slice(12);else{const i=new DataView(n.buffer);this.highStart=i.getUint32(0,!0),this.errorValue=i.getUint32(4,!0),r=i.getUint32(8,!0),n=n.subarray(12)}n=vi(n,new Uint8Array(r)),n=vi(n,new Uint8Array(r)),gf(n),this.data=new Uint32Array(n.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=n)}get(n){let e;return n<0||n>1114111?this.errorValue:n<55296||n>56319&&n<=65535?(e=(this.data[n>>Qt]<<ue)+(n&Ze),this.data[e]):n<=65535?(e=(this.data[Bo+(n-55296>>Qt)]<<ue)+(n&Ze),this.data[e]):n<this.highStart?(e=this.data[Af-_f+(n>>Rr)],e=this.data[e+(n>>Qt&vf)],e=(e<<ue)+(n&Ze),this.data[e]):this.data[this.data.length-Nf]}};var Cf=Ef,Oo={exports:{}};(function(t,n){(function(e,r){t.exports=r()})(typeof self<"u"?self:typeof window<"u"?window:Ye,function(){var e="3.7.5",r=e,i=typeof atob=="function",o=typeof btoa=="function",s=typeof Buffer=="function",a=typeof TextDecoder=="function"?new TextDecoder:void 0,u=typeof TextEncoder=="function"?new TextEncoder:void 0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=Array.prototype.slice.call(l),f=function(m){var A={};return m.forEach(function(X,ct){return A[X]=ct}),A}(c),h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),g=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(m){return new Uint8Array(Array.prototype.slice.call(m,0))},_=function(m){return m.replace(/=/g,"").replace(/[+\/]/g,function(A){return A=="+"?"-":"_"})},w=function(m){return m.replace(/[^A-Za-z0-9\+\/]/g,"")},y=function(m){for(var A,X,ct,zt,Et="",$e=m.length%3,Gn=0;Gn<m.length;){if((X=m.charCodeAt(Gn++))>255||(ct=m.charCodeAt(Gn++))>255||(zt=m.charCodeAt(Gn++))>255)throw new TypeError("invalid character found");A=X<<16|ct<<8|zt,Et+=c[A>>18&63]+c[A>>12&63]+c[A>>6&63]+c[A&63]}return $e?Et.slice(0,$e-3)+"===".substring($e):Et},S=o?function(m){return btoa(m)}:s?function(m){return Buffer.from(m,"binary").toString("base64")}:y,v=s?function(m){return Buffer.from(m).toString("base64")}:function(m){for(var A=4096,X=[],ct=0,zt=m.length;ct<zt;ct+=A)X.push(d.apply(null,m.subarray(ct,ct+A)));return S(X.join(""))},k=function(m,A){return A===void 0&&(A=!1),A?_(v(m)):v(m)},E=function(m){if(m.length<2){var A=m.charCodeAt(0);return A<128?m:A<2048?d(192|A>>>6)+d(128|A&63):d(224|A>>>12&15)+d(128|A>>>6&63)+d(128|A&63)}else{var A=65536+(m.charCodeAt(0)-55296)*1024+(m.charCodeAt(1)-56320);return d(240|A>>>18&7)+d(128|A>>>12&63)+d(128|A>>>6&63)+d(128|A&63)}},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,R=function(m){return m.replace(D,E)},x=s?function(m){return Buffer.from(m,"utf8").toString("base64")}:u?function(m){return v(u.encode(m))}:function(m){return S(R(m))},H=function(m,A){return A===void 0&&(A=!1),A?_(x(m)):x(m)},P=function(m){return H(m,!0)},N=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,M=function(m){switch(m.length){case 4:var A=(7&m.charCodeAt(0))<<18|(63&m.charCodeAt(1))<<12|(63&m.charCodeAt(2))<<6|63&m.charCodeAt(3),X=A-65536;return d((X>>>10)+55296)+d((X&1023)+56320);case 3:return d((15&m.charCodeAt(0))<<12|(63&m.charCodeAt(1))<<6|63&m.charCodeAt(2));default:return d((31&m.charCodeAt(0))<<6|63&m.charCodeAt(1))}},B=function(m){return m.replace(N,M)},O=function(m){if(m=m.replace(/\s+/g,""),!h.test(m))throw new TypeError("malformed base64.");m+="==".slice(2-(m.length&3));for(var A,X="",ct,zt,Et=0;Et<m.length;)A=f[m.charAt(Et++)]<<18|f[m.charAt(Et++)]<<12|(ct=f[m.charAt(Et++)])<<6|(zt=f[m.charAt(Et++)]),X+=ct===64?d(A>>16&255):zt===64?d(A>>16&255,A>>8&255):d(A>>16&255,A>>8&255,A&255);return X},Dt=i?function(m){return atob(w(m))}:s?function(m){return Buffer.from(m,"base64").toString("binary")}:O,Ht=s?function(m){return g(Buffer.from(m,"base64"))}:function(m){return g(Dt(m).split("").map(function(A){return A.charCodeAt(0)}))},Vt=function(m){return Ht(ut(m))},en=s?function(m){return Buffer.from(m,"base64").toString("utf8")}:a?function(m){return a.decode(Ht(m))}:function(m){return B(Dt(m))},ut=function(m){return w(m.replace(/[-_]/g,function(A){return A=="-"?"+":"/"}))},De=function(m){return en(ut(m))},ys=function(m){if(typeof m!="string")return!1;var A=m.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(A)||!/[^\s0-9a-zA-Z\-_]/.test(A)},$r=function(m){return{value:m,enumerable:!1,writable:!0,configurable:!0}},Br=function(){var m=function(A,X){return Object.defineProperty(String.prototype,A,$r(X))};m("fromBase64",function(){return De(this)}),m("toBase64",function(A){return H(this,A)}),m("toBase64URI",function(){return H(this,!0)}),m("toBase64URL",function(){return H(this,!0)}),m("toUint8Array",function(){return Vt(this)})},Or=function(){var m=function(A,X){return Object.defineProperty(Uint8Array.prototype,A,$r(X))};m("toBase64",function(A){return k(this,A)}),m("toBase64URI",function(){return k(this,!0)}),m("toBase64URL",function(){return k(this,!0)})},vs=function(){Br(),Or()},vn={version:e,VERSION:r,atob:Dt,atobPolyfill:O,btoa:S,btoaPolyfill:y,fromBase64:De,toBase64:H,encode:H,encodeURI:P,encodeURL:P,utob:R,btou:B,decode:De,isValid:ys,fromUint8Array:k,toUint8Array:Vt,extendString:Br,extendUint8Array:Or,extendBuiltins:vs};return vn.Base64={},Object.keys(vn).forEach(function(m){return vn.Base64[m]=vn[m]}),vn})})(Oo);var Mf=Oo.exports;const $=Kl,Tf=Jl.data,If=nf.data,Uo=Cf,Ho=Mf.Base64,Rf=new Uo(Ho.toUint8Array(Tf)),Pf=new Uo(Ho.toUint8Array(If));function z(t,n){return(t&n)!==0}const mt={Initial:0,ExtendOrZWJ:1,NotBoundary:2};function Lf(t,n){const e=t.length;let r=0,i=mt.Initial;for(let o=n;o+1<e;o++){const s=t[o+0],a=t[o+1];switch(z(s,$.Regional_Indicator)||(r=0),i){case mt.NotBoundary:case mt.Initial:z(s,$.Extended_Pictographic)?i=mt.ExtendOrZWJ:i=mt.Initial;break;case mt.ExtendOrZWJ:z(s,$.Extend)?i=mt.ExtendOrZWJ:z(s,$.ZWJ)&&z(a,$.Extended_Pictographic)?i=mt.NotBoundary:i=mt.Initial;break}if(!(z(s,$.CR)&&z(a,$.LF))){if(z(s,$.Control|$.CR|$.LF)||z(a,$.Control|$.CR|$.LF))return o+1-n;if(!(z(s,$.L)&&z(a,$.L|$.V|$.LV|$.LVT))&&!(z(s,$.LV|$.V)&&z(a,$.V|$.T))&&!(z(s,$.LVT|$.T)&&z(a,$.T))&&!z(a,$.Extend|$.ZWJ)&&!z(a,$.SpacingMark)&&!z(s,$.Prepend)&&i!==mt.NotBoundary){if(z(s,$.Regional_Indicator)&&z(a,$.Regional_Indicator)&&r%2===0){r++;continue}return o+1-n}}}return e-n}var Ff=function(n){const e=[],r=[0],i=[];for(let o=0;o<n.length;){const s=n.codePointAt(o);i.push(Rf.get(s)|Pf.get(s)),o+=s>65535?2:1,r.push(o)}for(let o=0;o<i.length;){const s=Lf(i,o),a=r[o],u=r[o+s];e.push(n.slice(a,u)),o+=s}return e};const Df=Gl(Ff),$f=t=>t.normalize("NFKD").split(""),wi=/^\s+$/,bi=/^[`~!@#$%^&*()\-=_+{}[\]\|\\;':",./<>?]+$/,pr={insertOrder:"insertOrder",bestMatch:"bestMatch"},Bf={keySelector:t=>t,threshold:.6,ignoreCase:!0,ignoreSymbols:!0,normalizeWhitespace:!0,returnMatchData:!1,useDamerau:!0,useSellers:!0,useSeparatedUnicode:!1,sortBy:pr.bestMatch},Of=()=>{},Uf=t=>t instanceof Array?t:[t];function Vo(t,n){const e=n.ignoreCase?t.toLocaleLowerCase():t,r=[],i=[];let o=!0,s=0;const a=n.useSeparatedUnicode?$f(e):Df(e);for(const u of a)wi.lastIndex=0,bi.lastIndex=0,n.normalizeWhitespace&&wi.test(u)?o||(r.push(" "),i.push(s),o=!0):n.ignoreSymbols&&bi.test(u)||(n.useSeparatedUnicode?r.push(u):r.push(u.normalize()),i.push(s),o=!1),s+=u.length;for(i.push(t.length);r[r.length-1]===" ";)r.pop(),i.pop();return{original:t,normal:r,map:i}}function Hf(t,n){return{index:n[t.start],length:n[t.end+1]-n[t.start]}}function zo(t,n){if(n===0)return{index:0,length:0};let e=n;for(let r=t.length-2;r>0&&e>1;r--){const i=t[r];e=i[e]<i[e-1]?e:e-1}return{start:e-1,end:n-1}}function Vf(){return{start:0,end:0}}const zf=()=>!0,Wf=(t,n)=>t<n;function qf(t,n){const e=new Array(t);for(let r=0;r<t;r++)e[r]=new Array(n),e[r][0]=r;for(let r=0;r<n;r++)e[0][r]=r;return e}function Xf(t,n){const e=new Array(t);e[0]=new Array(n).fill(0);for(let r=1;r<t;r++)e[r]=new Array(n),e[r][0]=r;return e}function Wo(t,n,e,r,i){const o=e[r],s=e[r+1],a=t[r]===n[i]?0:1;let u,l=s[i]+1;(u=o[i+1]+1)<l&&(l=u),(u=o[i]+a)<l&&(l=u),s[i+1]=l}function qo(t,n,e,r){for(let i=0;i<t.length;i++)Wo(t,n,e,i,r)}function Yf(t,n,e,r){if(r===0){qo(t,n,e,r);return}t.length>0&&Wo(t,n,e,0,r);for(let i=1;i<t.length;i++){const o=e[i-1],s=e[i],a=e[i+1],u=t[i]===n[r]?0:1;let l,c=a[r]+1;(l=s[r+1]+1)<c&&(c=l),(l=s[r]+u)<c&&(c=l),t[i]===n[r-1]&&t[i-1]===n[r]&&(l=o[r-1]+u)<c&&(c=l),a[r+1]=c}}function jf(t,n,e){let r=t;for(let i=0;i<n.length;i++){const o=n[i];r.children[o]==null&&(r.children[o]={children:{},candidates:[],depth:0}),r.depth=Math.max(r.depth,n.length-i),r=r.children[o]}r.candidates.push(e)}function xi(t,n,e,r){for(const i of e){const o=Uf(r.keySelector(i)).map((s,a)=>({index:n,keyIndex:a,item:i,normalized:Vo(s,r)}));n++;for(const s of o)jf(t,s.normalized.normal,s)}}function Zf(t,n){const e=n.score-t.score;if(e!==0)return e;const r=t.match.start-n.match.start;if(r!==0)return r;const i=t.keyIndex-n.keyIndex;if(i!==0)return i;const o=t.lengthDiff-n.lengthDiff;return o!==0?o:Xo(t,n)}function Xo(t,n){return t.index-n.index}function Gf(t){switch(t){case pr.bestMatch:return Zf;case pr.insertOrder:return Xo;default:throw new Error(`unknown sortBy method ${t}`)}}function Yo(t,n,e,r,i,o,s){const a={item:e.item,normalized:e.normalized,score:r,match:i,index:e.index,keyIndex:e.keyIndex,lengthDiff:o};n[e.index]==null?(n[e.index]=t.length,t.push(a)):s(a,t[n[e.index]])<0&&(t[n[e.index]]=a)}const Kf=Math.max,Qf=t=>t;function Jf(t,n,e,r,i){const o=n+i,s=Math.min(e.length,n+t.depth+1),a=Math.ceil((o+s)/2);return 1-(a-s)/a>=r}function th(t,n,e,r,i,o){return 1-Math.min(i,o-(t.depth+1))/e.length>=r}function nh(t,n,e,r,i,o,s){const a=[];for(const l in t.children){const c=t.children[l];a.push([c,1,l,0,n.length])}const u=new Array(t.depth);for(;a.length!==0;){const[l,c,f,h,d]=a.pop();u[c-1]=f,e.score(n,u,r,c-1);const g=c,_=r[r.length-1][g];let w=h,y=d;if(e.shouldUpdateScore(_,d)&&(w=g,y=_),l.candidates.length>0){const S=e.getLength(n.length,c),v=1-y/S;if(v>=s.threshold){const k=zo(r,w),E=Math.abs(c-n.length);for(const D of l.candidates)Yo(i,o,D,v,k,E,e.compareItems)}}for(const S in l.children){const v=l.children[S];e.shouldContinue(v,c,n,s.threshold,y,_)&&a.push([v,c+1,S,w,y])}}}function eh(t,n,e){const r=e.useSellers?Xf:qf,i={score:e.useDamerau?Yf:qo,getLength:e.useSellers?Qf:Kf,shouldUpdateScore:e.useSellers?Wf:zf,shouldContinue:e.useSellers?th:Jf,walkBack:e.useSellers?zo:Vf,compareItems:Gf(e.sortBy)},o={},s=[],a=r(t.length+1,n.depth+1);if(e.threshold<=0||t.length===0)for(const l of n.candidates)Yo(s,o,l,0,{index:0,length:0},t.length,i.compareItems);nh(n,t,i,a,s,o,e);const u=s.sort(i.compareItems);if(e.returnMatchData){const l=e.useSellers?Hf:Of;return u.map(c=>({item:c.item,original:c.normalized.original,key:c.normalized.normal.join(""),score:c.score,match:l(c.match,c.normalized.map)}))}return u.map(l=>l.item)}class ne{constructor(n,e){this.options=Object.assign({},Bf,e),this.trie={children:{},candidates:[],depth:0},xi(this.trie,0,n,this.options),this.count=n.length}add(...n){xi(this.trie,this.count,n,this.options),this.count+=n.length}search(n,e){return e=Object.assign({},this.options,e),eh(Vo(n,this.options).normal,this.trie,e)}}class jo{constructor(n){rt(this,"year");rt(this,"board");rt(this,"area");rt(this,"energyNorm");rt(this,"ghgNorm");rt(this,"ghgIntNorm");rt(this,"energyIntNorm");this.year=n.year,this.board=n.board,this.area=n.area,this.energyNorm=n.energyNorm,this.ghgNorm=n.ghgNorm,this.ghgIntNorm=this.ghgNorm/this.area*1e3,this.energyIntNorm=this.energyNorm/this.area*1e3}name(){return this.board}}class rh extends jo{constructor(e){super(e);rt(this,"school");rt(this,"address");rt(this,"city");this.school=e.school,this.address=e.address,this.city=e.city}name(){return this.school}}var yt,ln,Mt,vt,Ln,Fn,Dn;class ih{constructor(n){T(this,yt,{kind:"none"});T(this,ln,void 0);T(this,Mt,void 0);T(this,vt,void 0);T(this,Ln,void 0);T(this,Fn,new ne([]));T(this,Dn,new ne([]));C(this,Mt,n.filter(e=>e.energyIntNorm>1)),C(this,ln,"main"),C(this,vt,this.combineRows(p(this,Mt),e=>e.board+e.year)),C(this,Ln,this.combineRows(p(this,vt),e=>""+e.year))}combineRows(n,e){return Array.from(Ps(n,r=>new jo({ghgNorm:Oe(r,i=>i.ghgNorm),board:r[0].board,year:r[0].year,energyNorm:Oe(r,i=>i.energyNorm),area:Oe(r,i=>i.area)}),e).values())}async init(){await pi(),C(this,Fn,new ne(p(this,Mt).filter(n=>n.year==2020),{keySelector:n=>n.board+" "+n.school})),await pi(),C(this,Dn,new ne(p(this,vt).filter(n=>n.year==2020),{keySelector:n=>n.board}))}getFilteredSchools(n,e){let r=[];return n==""?r=p(this,Mt):r=p(this,Fn).search(n),e&&e.length>0?r.filter(i=>i.board==e):r}getFilteredBoards(n){return n==""?p(this,vt):p(this,Dn).search(n)}setFocus(n){C(this,yt,n)}focus(){return p(this,yt)}allBoardRowsForYear(n){return p(this,vt).filter(e=>e.year==n)}focusedSchoolRows(){p(this,yt).kind!="school";const n=p(this,yt).address;return p(this,Mt).filter(e=>e.address==n)}focusedBoardRows(){switch(p(this,yt).kind){case"none":return null;case"board":{const n=p(this,yt).board;return p(this,vt).filter(e=>e.board==n)}case"school":{const n=p(this,yt),e=n.schoolName,r=n.address,o=(p(this,Mt).find(s=>s.school==e&&s.address==r)??W("Can't find school")).board;return p(this,vt).filter(s=>s.board==o)}}}setViewType(n){C(this,ln,n)}viewType(){return p(this,ln)}sectorRows(){return p(this,Ln)}}yt=new WeakMap,ln=new WeakMap,Mt=new WeakMap,vt=new WeakMap,Ln=new WeakMap,Fn=new WeakMap,Dn=new WeakMap;var fn,Ne;class Zo{constructor(n){T(this,fn,void 0);T(this,Ne,null);C(this,fn,n)}el(){return p(this,fn)}setVisible(n){n!=p(this,Ne)&&(p(this,fn).style.display=n?"block":"none")}}fn=new WeakMap,Ne=new WeakMap;function Si(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,typeof(i=function(o,s){if(typeof o!="object"||o===null)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(r.key))=="symbol"?i:String(i),r)}var i}function G(t,n,e){return n&&Si(t.prototype,n),e&&Si(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F(){return F=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},F.apply(this,arguments)}function q(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,gr(t,n)}function gr(t,n){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},gr(t,n)}function ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ai(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function J(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(i,o){if(i){if(typeof i=="string")return Ai(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ai(i,o):void 0}}(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ot;(function(t){t[t.Init=0]="Init",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t[t.Rendered=3]="Rendered",t[t.Error=4]="Error"})(ot||(ot={}));var Te,I,Go,Ko,Nn,Ni,Qo,ke={},Jo=[],oh=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ut(t,n){for(var e in n)t[e]=n[e];return t}function ts(t){var n=t.parentNode;n&&n.removeChild(t)}function b(t,n,e){var r,i,o,s={};for(o in n)o=="key"?r=n[o]:o=="ref"?i=n[o]:s[o]=n[o];if(arguments.length>2&&(s.children=arguments.length>3?Te.call(arguments,2):e),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return ce(t,s,r,i,null)}function ce(t,n,e,r,i){var o={type:t,props:n,key:e,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Go};return i==null&&I.vnode!=null&&I.vnode(o),o}function xt(t){return t.children}function le(t,n){this.props=t,this.context=n}function Rn(t,n){if(n==null)return t.__?Rn(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null)return e.__e;return typeof t.type=="function"?Rn(t):null}function ns(t){var n,e;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null){t.__e=t.__c.base=e.__e;break}return ns(t)}}function mr(t){(!t.__d&&(t.__d=!0)&&Nn.push(t)&&!Ae.__r++||Ni!==I.debounceRendering)&&((Ni=I.debounceRendering)||setTimeout)(Ae)}function Ae(){for(var t;Ae.__r=Nn.length;)t=Nn.sort(function(n,e){return n.__v.__b-e.__v.__b}),Nn=[],t.some(function(n){var e,r,i,o,s,a;n.__d&&(s=(o=(e=n).__v).__e,(a=e.__P)&&(r=[],(i=Ut({},o)).__v=o.__v+1,Pr(a,o,i,e.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??Rn(o),o.__h),os(r,o),o.__e!=s&&ns(o)))})}function es(t,n,e,r,i,o,s,a,u,l){var c,f,h,d,g,_,w,y=r&&r.__k||Jo,S=y.length;for(e.__k=[],c=0;c<n.length;c++)if((d=e.__k[c]=(d=n[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?ce(null,d,null,null,d):Array.isArray(d)?ce(xt,{children:d},null,null,null):d.__b>0?ce(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=e,d.__b=e.__b+1,(h=y[c])===null||h&&d.key==h.key&&d.type===h.type)y[c]=void 0;else for(f=0;f<S;f++){if((h=y[f])&&d.key==h.key&&d.type===h.type){y[f]=void 0;break}h=null}Pr(t,d,h=h||ke,i,o,s,a,u,l),g=d.__e,(f=d.ref)&&h.ref!=f&&(w||(w=[]),h.ref&&w.push(h.ref,null,d),w.push(f,d.__c||g,d)),g!=null?(_==null&&(_=g),typeof d.type=="function"&&d.__k===h.__k?d.__d=u=rs(d,u,t):u=is(t,d,h,y,g,u),typeof e.type=="function"&&(e.__d=u)):u&&h.__e==u&&u.parentNode!=t&&(u=Rn(h))}for(e.__e=_,c=S;c--;)y[c]!=null&&as(y[c],y[c]);if(w)for(c=0;c<w.length;c++)ss(w[c],w[++c],w[++c])}function rs(t,n,e){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,n=typeof r.type=="function"?rs(r,n,e):is(e,r,r,i,r.__e,n));return n}function is(t,n,e,r,i,o){var s,a,u;if(n.__d!==void 0)s=n.__d,n.__d=void 0;else if(e==null||i!=o||i.parentNode==null)t:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<r.length;u+=1)if(a==i)break t;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function Ei(t,n,e){n[0]==="-"?t.setProperty(n,e):t[n]=e==null?"":typeof e!="number"||oh.test(n)?e:e+"px"}function ee(t,n,e,r,i){var o;t:if(n==="style")if(typeof e=="string")t.style.cssText=e;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(n in r)e&&n in e||Ei(t.style,n,"");if(e)for(n in e)r&&e[n]===r[n]||Ei(t.style,n,e[n])}else if(n[0]==="o"&&n[1]==="n")o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+o]=e,e?r||t.addEventListener(n,o?Mi:Ci,o):t.removeEventListener(n,o?Mi:Ci,o);else if(n!=="dangerouslySetInnerHTML"){if(i)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in t)try{t[n]=e??"";break t}catch{}typeof e=="function"||(e==null||e===!1&&n.indexOf("-")==-1?t.removeAttribute(n):t.setAttribute(n,e))}}function Ci(t){this.l[t.type+!1](I.event?I.event(t):t)}function Mi(t){this.l[t.type+!0](I.event?I.event(t):t)}function Pr(t,n,e,r,i,o,s,a,u){var l,c,f,h,d,g,_,w,y,S,v,k,E,D,R,x=n.type;if(n.constructor!==void 0)return null;e.__h!=null&&(u=e.__h,a=n.__e=e.__e,n.__h=null,o=[a]),(l=I.__b)&&l(n);try{t:if(typeof x=="function"){if(w=n.props,y=(l=x.contextType)&&r[l.__c],S=l?y?y.props.value:l.__:r,e.__c?_=(c=n.__c=e.__c).__=c.__E:("prototype"in x&&x.prototype.render?n.__c=c=new x(w,S):(n.__c=c=new le(w,S),c.constructor=x,c.render=ah),y&&y.sub(c),c.props=w,c.state||(c.state={}),c.context=S,c.__n=r,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),x.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Ut({},c.__s)),Ut(c.__s,x.getDerivedStateFromProps(w,c.__s))),h=c.props,d=c.state,f)x.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(x.getDerivedStateFromProps==null&&w!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(w,S),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(w,c.__s,S)===!1||n.__v===e.__v){for(c.props=w,c.state=c.__s,n.__v!==e.__v&&(c.__d=!1),c.__v=n,n.__e=e.__e,n.__k=e.__k,n.__k.forEach(function(H){H&&(H.__=n)}),v=0;v<c._sb.length;v++)c.__h.push(c._sb[v]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(w,c.__s,S),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,d,g)})}if(c.context=S,c.props=w,c.__v=n,c.__P=t,k=I.__r,E=0,"prototype"in x&&x.prototype.render){for(c.state=c.__s,c.__d=!1,k&&k(n),l=c.render(c.props,c.state,c.context),D=0;D<c._sb.length;D++)c.__h.push(c._sb[D]);c._sb=[]}else do c.__d=!1,k&&k(n),l=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(r=Ut(Ut({},r),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(g=c.getSnapshotBeforeUpdate(h,d)),R=l!=null&&l.type===xt&&l.key==null?l.props.children:l,es(t,Array.isArray(R)?R:[R],n,e,r,i,o,s,a,u),c.base=n.__e,n.__h=null,c.__h.length&&s.push(c),_&&(c.__E=c.__=null),c.__e=!1}else o==null&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=sh(e.__e,n,e,r,i,o,s,u);(l=I.diffed)&&l(n)}catch(H){n.__v=null,(u||o!=null)&&(n.__e=a,n.__h=!!u,o[o.indexOf(a)]=null),I.__e(H,n,e)}}function os(t,n){I.__c&&I.__c(n,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(r){r.call(e)})}catch(r){I.__e(r,e.__v)}})}function sh(t,n,e,r,i,o,s,a){var u,l,c,f=e.props,h=n.props,d=n.type,g=0;if(d==="svg"&&(i=!0),o!=null){for(;g<o.length;g++)if((u=o[g])&&"setAttribute"in u==!!d&&(d?u.localName===d:u.nodeType===3)){t=u,o[g]=null;break}}if(t==null){if(d===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),o=null,a=!1}if(d===null)f===h||a&&t.data===h||(t.data=h);else{if(o=o&&Te.call(t.childNodes),l=(f=e.props||ke).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(o!=null)for(f={},g=0;g<t.attributes.length;g++)f[t.attributes[g].name]=t.attributes[g].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(function(_,w,y,S,v){var k;for(k in y)k==="children"||k==="key"||k in w||ee(_,k,null,y[k],S);for(k in w)v&&typeof w[k]!="function"||k==="children"||k==="key"||k==="value"||k==="checked"||y[k]===w[k]||ee(_,k,w[k],y[k],S)}(t,h,f,i,a),c)n.__k=[];else if(g=n.props.children,es(t,Array.isArray(g)?g:[g],n,e,r,i&&d!=="foreignObject",o,s,o?o[0]:e.__k&&Rn(e,0),a),o!=null)for(g=o.length;g--;)o[g]!=null&&ts(o[g]);a||("value"in h&&(g=h.value)!==void 0&&(g!==t.value||d==="progress"&&!g||d==="option"&&g!==f.value)&&ee(t,"value",g,f.value,!1),"checked"in h&&(g=h.checked)!==void 0&&g!==t.checked&&ee(t,"checked",g,f.checked,!1))}return t}function ss(t,n,e){try{typeof t=="function"?t(n):t.current=n}catch(r){I.__e(r,e)}}function as(t,n,e){var r,i;if(I.unmount&&I.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ss(r,null,n)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){I.__e(o,n)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&as(r[i],n,e||typeof t.type!="function");e||t.__e==null||ts(t.__e),t.__=t.__e=t.__d=void 0}function ah(t,n,e){return this.constructor(t,e)}function En(t,n,e){var r,i,o;I.__&&I.__(t,n),i=(r=typeof e=="function")?null:e&&e.__k||n.__k,o=[],Pr(n,t=(!r&&e||n).__k=b(xt,null,[t]),i||ke,ke,n.ownerSVGElement!==void 0,!r&&e?[e]:i?null:n.firstChild?Te.call(n.childNodes):null,o,!r&&e?e:i?i.__e:n.firstChild,r),os(o,t)}function us(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return(t=="x"?n:3&n|8).toString(16)})}Te=Jo.slice,I={__e:function(t,n,e,r){for(var i,o,s;n=n.__;)if((i=n.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},Go=0,Ko=function(t){return t!=null&&t.constructor===void 0},le.prototype.setState=function(t,n){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ut({},this.state),typeof t=="function"&&(t=t(Ut({},e),this.props)),t&&Ut(e,t),t!=null&&this.__v&&(n&&this._sb.push(n),mr(this))},le.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),mr(this))},le.prototype.render=xt,Nn=[],Ae.__r=0,Qo=0;var Ie=function(){function t(n){this._id=void 0,this._id=n||us()}return G(t,[{key:"id",get:function(){return this._id}}]),t}();function uh(t){return b(t.parentElement||"span",{dangerouslySetInnerHTML:{__html:t.content}})}function cs(t,n){return b(uh,{content:t,parentElement:n})}var Z,Lr=function(t){function n(r){var i;return(i=t.call(this)||this).data=void 0,i.update(r),i}q(n,t);var e=n.prototype;return e.cast=function(r){return r instanceof HTMLElement?cs(r.outerHTML):r},e.update=function(r){return this.data=this.cast(r),this},n}(Ie),Ge=function(t){function n(r){var i;return(i=t.call(this)||this)._cells=void 0,i.cells=r||[],i}q(n,t);var e=n.prototype;return e.cell=function(r){return this._cells[r]},e.toArray=function(){return this.cells.map(function(r){return r.data})},n.fromCells=function(r){return new n(r.map(function(i){return new Lr(i.data)}))},G(n,[{key:"cells",get:function(){return this._cells},set:function(r){this._cells=r}},{key:"length",get:function(){return this.cells.length}}]),n}(Ie),Re=function(t){function n(e){var r;return(r=t.call(this)||this)._rows=void 0,r._length=void 0,r.rows=e instanceof Array?e:e instanceof Ge?[e]:[],r}return q(n,t),n.prototype.toArray=function(){return this.rows.map(function(e){return e.toArray()})},n.fromRows=function(e){return new n(e.map(function(r){return Ge.fromCells(r.cells)}))},n.fromArray=function(e){return new n((e=function(r){return!r[0]||r[0]instanceof Array?r:[r]}(e)).map(function(r){return new Ge(r.map(function(i){return new Lr(i)}))}))},G(n,[{key:"rows",get:function(){return this._rows},set:function(e){this._rows=e}},{key:"length",get:function(){return this._length||this.rows.length},set:function(e){this._length=e}}]),n}(Ie),Fr=function(){function t(){this.callbacks=void 0}var n=t.prototype;return n.init=function(e){this.callbacks||(this.callbacks={}),e&&!this.callbacks[e]&&(this.callbacks[e]=[])},n.listeners=function(){return this.callbacks},n.on=function(e,r){return this.init(e),this.callbacks[e].push(r),this},n.off=function(e,r){var i=e;return this.init(),this.callbacks[i]&&this.callbacks[i].length!==0?(this.callbacks[i]=this.callbacks[i].filter(function(o){return o!=r}),this):this},n.emit=function(e){var r=arguments,i=e;return this.init(i),this.callbacks[i].length>0&&(this.callbacks[i].forEach(function(o){return o.apply(void 0,[].slice.call(r,1))}),!0)},t}();(function(t){t[t.Initiator=0]="Initiator",t[t.ServerFilter=1]="ServerFilter",t[t.ServerSort=2]="ServerSort",t[t.ServerLimit=3]="ServerLimit",t[t.Extractor=4]="Extractor",t[t.Transformer=5]="Transformer",t[t.Filter=6]="Filter",t[t.Sort=7]="Sort",t[t.Limit=8]="Limit"})(Z||(Z={}));var Nt=function(t){function n(r){var i;return(i=t.call(this)||this).id=void 0,i._props=void 0,i._props={},i.id=us(),r&&i.setProps(r),i}q(n,t);var e=n.prototype;return e.process=function(){var r=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,r),this.emit.apply(this,["beforeProcess"].concat(r));var i=this._process.apply(this,r);return this.emit.apply(this,["afterProcess"].concat(r)),i},e.setProps=function(r){return Object.assign(this._props,r),this.emit("propsUpdated",this),this},G(n,[{key:"props",get:function(){return this._props}}]),n}(Fr),ch=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(e){return this.props.keyword?(r=String(this.props.keyword).trim(),i=this.props.columns,o=this.props.ignoreHiddenColumns,s=e,a=this.props.selector,r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new Re(s.rows.filter(function(u,l){return u.cells.some(function(c,f){if(!c||o&&i&&i[f]&&typeof i[f]=="object"&&i[f].hidden)return!1;var h="";if(typeof a=="function")h=a(c.data,l,f);else if(typeof c.data=="object"){var d=c.data;d&&d.props&&d.props.content&&(h=d.props.content)}else h=String(c.data);return new RegExp(r,"gi").test(h)})}))):e;var r,i,o,s,a},G(n,[{key:"type",get:function(){return Z.Filter}}]),n}(Nt);function L(){var t="gridjs";return""+t+[].slice.call(arguments).reduce(function(n,e){return n+"-"+e},"")}function U(){return[].slice.call(arguments).map(function(t){return t?t.toString():""}).filter(function(t){return t}).reduce(function(t,n){return(t||"")+" "+n},"").trim()}var jn,V,Ke,Ti,Ii=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(e){if(!this.props.keyword)return e;var r={};return this.props.url&&(r.url=this.props.url(e.url,this.props.keyword)),this.props.body&&(r.body=this.props.body(e.body,this.props.keyword)),F({},e,r)},G(n,[{key:"type",get:function(){return Z.ServerFilter}}]),n}(Nt),Pn=0,ls=[],fe=[],Ri=I.__b,Pi=I.__r,Li=I.diffed,Fi=I.__c,Di=I.unmount;function Pe(t,n){I.__h&&I.__h(V,t,Pn||n),Pn=0;var e=V.__H||(V.__H={__:[],__h:[]});return t>=e.__.length&&e.__.push({__V:fe}),e.__[t]}function Ft(t){return Pn=1,function(n,e,r){var i=Pe(jn++,2);if(i.t=n,!i.__c&&(i.__=[Bi(void 0,e),function(s){var a=i.__N?i.__N[0]:i.__[0],u=i.t(a,s);a!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=V,!V.u)){V.u=!0;var o=V.shouldComponentUpdate;V.shouldComponentUpdate=function(s,a,u){if(!i.__c.__H)return!0;var l=i.__c.__H.__.filter(function(f){return f.__c});if(l.every(function(f){return!f.__N}))return!o||o.call(this,s,a,u);var c=!1;return l.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(c=!0)}}),!(!c&&i.__c.props===s)&&(!o||o.call(this,s,a,u))}}return i.__N||i.__}(Bi,t)}function nt(t,n){var e=Pe(jn++,3);!I.__s&&hs(e.__H,n)&&(e.__=t,e.i=n,V.__H.__h.push(e))}function Zn(t){return Pn=5,fs(function(){return{current:t}},[])}function fs(t,n){var e=Pe(jn++,7);return hs(e.__H,n)?(e.__V=t(),e.i=n,e.__h=t,e.__V):e.__}function lh(){for(var t;t=ls.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(he),t.__H.__h.forEach(_r),t.__H.__h=[]}catch(n){t.__H.__h=[],I.__e(n,t.__v)}}I.__b=function(t){V=null,Ri&&Ri(t)},I.__r=function(t){Pi&&Pi(t),jn=0;var n=(V=t.__c).__H;n&&(Ke===V?(n.__h=[],V.__h=[],n.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=fe,e.__N=e.i=void 0})):(n.__h.forEach(he),n.__h.forEach(_r),n.__h=[])),Ke=V},I.diffed=function(t){Li&&Li(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(ls.push(n)!==1&&Ti===I.requestAnimationFrame||((Ti=I.requestAnimationFrame)||fh)(lh)),n.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==fe&&(e.__=e.__V),e.i=void 0,e.__V=fe})),Ke=V=null},I.__c=function(t,n){n.some(function(e){try{e.__h.forEach(he),e.__h=e.__h.filter(function(r){return!r.__||_r(r)})}catch(r){n.some(function(i){i.__h&&(i.__h=[])}),n=[],I.__e(r,e.__v)}}),Fi&&Fi(t,n)},I.unmount=function(t){Di&&Di(t);var n,e=t.__c;e&&e.__H&&(e.__H.__.forEach(function(r){try{he(r)}catch(i){n=i}}),e.__H=void 0,n&&I.__e(n,e.__v))};var $i=typeof requestAnimationFrame=="function";function fh(t){var n,e=function(){clearTimeout(r),$i&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(e,100);$i&&(n=requestAnimationFrame(e))}function he(t){var n=V,e=t.__c;typeof e=="function"&&(t.__c=void 0,e()),V=n}function _r(t){var n=V;t.__c=t.__(),V=n}function hs(t,n){return!t||t.length!==n.length||n.some(function(e,r){return e!==t[r]})}function Bi(t,n){return typeof n=="function"?n(t):n}function et(){return function(t){var n=V.context[t.__c],e=Pe(jn++,9);return e.c=t,n?(e.__==null&&(e.__=!0,n.sub(V)),n.props.value):t.__}(gs)}var hh={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(t,n){return"Page "+t+" of "+n},page:function(t){return"Page "+t},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},dh=function(){function t(e){this._language=void 0,this._defaultLanguage=void 0,this._language=e,this._defaultLanguage=hh}var n=t.prototype;return n.getString=function(e,r){if(!r||!e)return null;var i=e.split("."),o=i[0];if(r[o]){var s=r[o];return typeof s=="string"?function(){return s}:typeof s=="function"?s:this.getString(i.slice(1).join("."),s)}return null},n.translate=function(e){var r,i=this.getString(e,this._language);return(r=i||this.getString(e,this._defaultLanguage))?r.apply(void 0,[].slice.call(arguments,1)):e},t}();function Le(){var t=et();return function(n){var e;return(e=t.translator).translate.apply(e,[n].concat([].slice.call(arguments,1)))}}var Oi=function(t){return function(n){return F({},n,{search:{keyword:t}})}};function yn(){return et().store}function kt(t){var n=yn(),e=Ft(t(n.getState())),r=e[0],i=e[1];return nt(function(){return n.subscribe(function(){var o=t(n.getState());r!==o&&i(o)})},[]),r}function ph(){var t,n=Ft(void 0),e=n[0],r=n[1],i=et(),o=i.search,s=Le(),a=yn().dispatch,u=kt(function(d){return d.search});nt(function(){e&&e.setProps({keyword:u==null?void 0:u.keyword})},[u,e]),nt(function(){r(o.server?new Ii({keyword:o.keyword,url:o.server.url,body:o.server.body}):new ch({keyword:o.keyword,columns:i.header&&i.header.columns,ignoreHiddenColumns:o.ignoreHiddenColumns||o.ignoreHiddenColumns===void 0,selector:o.selector})),o.keyword&&a(Oi(o.keyword))},[o]),nt(function(){return i.pipeline.register(e),function(){return i.pipeline.unregister(e)}},[i,e]);var l,c,f,h=function(d,g){return Pn=8,fs(function(){return d},g)}((l=function(d){d.target instanceof HTMLInputElement&&a(Oi(d.target.value))},c=e instanceof Ii?o.debounceTimeout||250:0,function(){var d=arguments;return new Promise(function(g){f&&clearTimeout(f),f=setTimeout(function(){return g(l.apply(void 0,[].slice.call(d)))},c)})}),[o,e]);return b("div",{className:L(U("search",(t=i.className)==null?void 0:t.search))},b("input",{type:"search",placeholder:s("search.placeholder"),"aria-label":s("search.placeholder"),onInput:h,className:U(L("input"),L("search","input")),value:(u==null?void 0:u.keyword)||""}))}var Ui=function(t){function n(){return t.apply(this,arguments)||this}q(n,t);var e=n.prototype;return e.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},e._process=function(r){var i=this.props.page;return new Re(r.rows.slice(i*this.props.limit,(i+1)*this.props.limit))},G(n,[{key:"type",get:function(){return Z.Limit}}]),n}(Nt),Hi=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(e){var r={};return this.props.url&&(r.url=this.props.url(e.url,this.props.page,this.props.limit)),this.props.body&&(r.body=this.props.body(e.body,this.props.page,this.props.limit)),F({},e,r)},G(n,[{key:"type",get:function(){return Z.ServerLimit}}]),n}(Nt);function gh(){var t=et(),n=t.pagination,e=n.server,r=n.summary,i=r===void 0||r,o=n.nextButton,s=o===void 0||o,a=n.prevButton,u=a===void 0||a,l=n.buttonsCount,c=l===void 0?3:l,f=n.limit,h=f===void 0?10:f,d=n.page,g=d===void 0?0:d,_=n.resetPageOnUpdate,w=_===void 0||_,y=Zn(null),S=Ft(g),v=S[0],k=S[1],E=Ft(0),D=E[0],R=E[1],x=Le();nt(function(){return y.current=e?new Hi({limit:h,page:v,url:e.url,body:e.body}):new Ui({limit:h,page:v}),y.current instanceof Hi?t.pipeline.on("afterProcess",function(M){return R(M.length)}):y.current instanceof Ui&&y.current.on("beforeProcess",function(M){return R(M.length)}),t.pipeline.on("updated",H),t.pipeline.register(y.current),t.pipeline.on("error",function(){R(0),k(0)}),function(){t.pipeline.unregister(y.current),t.pipeline.off("updated",H)}},[]);var H=function(M){w&&M!==y.current&&k(0)},P=function(){return Math.ceil(D/h)},N=function(M){if(M>=P()||M<0||M===v)return null;k(M),y.current.setProps({page:M})};return b("div",{className:U(L("pagination"),t.className.pagination)},b(xt,null,i&&D>0&&b("div",{role:"status","aria-live":"polite",className:U(L("summary"),t.className.paginationSummary),title:x("pagination.navigate",v+1,P())},x("pagination.showing")," ",b("b",null,x(""+(v*h+1)))," ",x("pagination.to")," ",b("b",null,x(""+Math.min((v+1)*h,D)))," ",x("pagination.of")," ",b("b",null,x(""+D))," ",x("pagination.results"))),b("div",{className:L("pages")},u&&b("button",{tabIndex:0,role:"button",disabled:v===0,onClick:function(){return N(v-1)},title:x("pagination.previous"),"aria-label":x("pagination.previous"),className:U(t.className.paginationButton,t.className.paginationButtonPrev)},x("pagination.previous")),function(){if(c<=0)return null;var M=Math.min(P(),c),B=Math.min(v,Math.floor(M/2));return v+Math.floor(M/2)>=P()&&(B=M-(P()-v)),b(xt,null,P()>M&&v-B>0&&b(xt,null,b("button",{tabIndex:0,role:"button",onClick:function(){return N(0)},title:x("pagination.firstPage"),"aria-label":x("pagination.firstPage"),className:t.className.paginationButton},x("1")),b("button",{tabIndex:-1,className:U(L("spread"),t.className.paginationButton)},"...")),Array.from(Array(M).keys()).map(function(O){return v+(O-B)}).map(function(O){return b("button",{tabIndex:0,role:"button",onClick:function(){return N(O)},className:U(v===O?U(L("currentPage"),t.className.paginationButtonCurrent):null,t.className.paginationButton),title:x("pagination.page",O+1),"aria-label":x("pagination.page",O+1)},x(""+(O+1)))}),P()>M&&P()>v+B+1&&b(xt,null,b("button",{tabIndex:-1,className:U(L("spread"),t.className.paginationButton)},"..."),b("button",{tabIndex:0,role:"button",onClick:function(){return N(P()-1)},title:x("pagination.page",P()),"aria-label":x("pagination.page",P()),className:t.className.paginationButton},x(""+P()))))}(),s&&b("button",{tabIndex:0,role:"button",disabled:P()===v+1||P()===0,onClick:function(){return N(v+1)},title:x("pagination.next"),"aria-label":x("pagination.next"),className:U(t.className.paginationButton,t.className.paginationButtonNext)},x("pagination.next"))))}function mh(t,n){return typeof t=="string"?t.indexOf("%")>-1?n/100*parseInt(t,10):parseInt(t,10):t}function Qe(t){return t?Math.floor(t)+"px":""}function _h(t){var n=t.tableRef.cloneNode(!0);return n.style.position="absolute",n.style.width="100%",n.style.zIndex="-2147483640",n.style.visibility="hidden",b("div",{ref:function(e){e&&e.appendChild(n)}})}function yh(t){if(!t)return"";var n=t.split(" ");return n.length===1&&/([a-z][A-Z])+/g.test(t)?t:n.map(function(e,r){return r==0?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join("")}var nn,lt=new(function(){function t(){}var n=t.prototype;return n.format=function(e,r){return"[Grid.js] ["+r.toUpperCase()+"]: "+e},n.error=function(e,r){r===void 0&&(r=!1);var i=this.format(e,"error");if(r)throw Error(i);console.error(i)},n.warn=function(e){console.warn(this.format(e,"warn"))},n.info=function(e){console.info(this.format(e,"info"))},t}());(function(t){t[t.Header=0]="Header",t[t.Footer=1]="Footer",t[t.Cell=2]="Cell"})(nn||(nn={}));var vh=function(){function t(){this.plugins=void 0,this.plugins=[]}var n=t.prototype;return n.get=function(e){return this.plugins.find(function(r){return r.id===e})},n.add=function(e){return e.id?this.get(e.id)?(lt.error("Duplicate plugin ID: "+e.id),this):(this.plugins.push(e),this):(lt.error("Plugin ID cannot be empty"),this)},n.remove=function(e){var r=this.get(e);return r&&this.plugins.splice(this.plugins.indexOf(r),1),this},n.list=function(e){var r;return r=e!=null||e!=null?this.plugins.filter(function(i){return i.position===e}):this.plugins,r.sort(function(i,o){return i.order&&o.order?i.order-o.order:1})},t}();function Fe(t){var n=this,e=et();if(t.pluginId){var r=e.plugin.get(t.pluginId);return r?b(xt,{},b(r.component,F({plugin:r},t.props))):null}return t.position!==void 0?b(xt,{},e.plugin.list(t.position).map(function(i){return b(i.component,F({plugin:i},n.props.props))})):null}var cn=function(t){function n(){var r;return(r=t.call(this)||this)._columns=void 0,r._columns=[],r}q(n,t);var e=n.prototype;return e.adjustWidth=function(r,i,o){var s=r.container,a=r.autoWidth;if(!s)return this;var u=s.clientWidth,l={};i.current&&a&&(En(b(_h,{tableRef:i.current}),o.current),l=function(d){var g=d.querySelector("table");if(!g)return{};var _=g.className,w=g.style.cssText;g.className=_+" "+L("shadowTable"),g.style.tableLayout="auto",g.style.width="auto",g.style.padding="0",g.style.margin="0",g.style.border="none",g.style.outline="none";var y=Array.from(g.parentNode.querySelectorAll("thead th")).reduce(function(S,v){var k;return v.style.width=v.clientWidth+"px",F(((k={})[v.getAttribute("data-column-id")]={minWidth:v.clientWidth},k),S)},{});return g.className=_,g.style.cssText=w,g.style.tableLayout="auto",Array.from(g.parentNode.querySelectorAll("thead th")).reduce(function(S,v){return S[v.getAttribute("data-column-id")].width=v.clientWidth,S},y)}(o.current));for(var c,f=J(n.tabularFormat(this.columns).reduce(function(d,g){return d.concat(g)},[]));!(c=f()).done;){var h=c.value;h.columns&&h.columns.length>0||(!h.width&&a?h.id in l&&(h.width=Qe(l[h.id].width),h.minWidth=Qe(l[h.id].minWidth)):h.width=Qe(mh(h.width,u)))}return i.current&&a&&En(null,o.current),this},e.setSort=function(r,i){for(var o,s=J(i||this.columns||[]);!(o=s()).done;){var a=o.value;a.columns&&a.columns.length>0?a.sort=void 0:a.sort===void 0&&r?a.sort={}:a.sort?typeof a.sort=="object"&&(a.sort=F({},a.sort)):a.sort=void 0,a.columns&&this.setSort(r,a.columns)}},e.setResizable=function(r,i){for(var o,s=J(i||this.columns||[]);!(o=s()).done;){var a=o.value;a.resizable===void 0&&(a.resizable=r),a.columns&&this.setResizable(r,a.columns)}},e.setID=function(r){for(var i,o=J(r||this.columns||[]);!(i=o()).done;){var s=i.value;s.id||typeof s.name!="string"||(s.id=yh(s.name)),s.id||lt.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),s.columns&&this.setID(s.columns)}},e.populatePlugins=function(r,i){for(var o,s=J(i);!(o=s()).done;){var a=o.value;a.plugin!==void 0&&r.add(F({id:a.id},a.plugin,{position:nn.Cell}))}},n.fromColumns=function(r){for(var i,o=new n,s=J(r);!(i=s()).done;){var a=i.value;if(typeof a=="string"||Ko(a))o.columns.push({name:a});else if(typeof a=="object"){var u=a;u.columns&&(u.columns=n.fromColumns(u.columns).columns),typeof u.plugin=="object"&&u.data===void 0&&(u.data=null),o.columns.push(a)}}return o},n.createFromConfig=function(r){var i=new n;return r.from?i.columns=n.fromHTMLTable(r.from).columns:r.columns?i.columns=n.fromColumns(r.columns).columns:!r.data||typeof r.data[0]!="object"||r.data[0]instanceof Array||(i.columns=Object.keys(r.data[0]).map(function(o){return{name:o}})),i.columns.length?(i.setID(),i.setSort(r.sort),i.setResizable(r.resizable),i.populatePlugins(r.plugin,i.columns),i):null},n.fromHTMLTable=function(r){for(var i,o=new n,s=J(r.querySelector("thead").querySelectorAll("th"));!(i=s()).done;){var a=i.value;o.columns.push({name:a.innerHTML,width:a.width})}return o},n.tabularFormat=function(r){var i=[],o=r||[],s=[];if(o&&o.length){i.push(o);for(var a,u=J(o);!(a=u()).done;){var l=a.value;l.columns&&l.columns.length&&(s=s.concat(l.columns))}s.length&&(i=i.concat(this.tabularFormat(s)))}return i},n.leafColumns=function(r){var i=[],o=r||[];if(o&&o.length)for(var s,a=J(o);!(s=a()).done;){var u=s.value;u.columns&&u.columns.length!==0||i.push(u),u.columns&&(i=i.concat(this.leafColumns(u.columns)))}return i},n.maximumDepth=function(r){return this.tabularFormat([r]).length-1},G(n,[{key:"columns",get:function(){return this._columns},set:function(r){this._columns=r}},{key:"visibleColumns",get:function(){return this._columns.filter(function(r){return!r.hidden})}}]),n}(Ie),ds=function(){},Vi=function(t){function n(r){var i;return(i=t.call(this)||this).data=void 0,i.set(r),i}q(n,t);var e=n.prototype;return e.get=function(){try{return Promise.resolve(this.data()).then(function(r){return{data:r,total:r.length}})}catch(r){return Promise.reject(r)}},e.set=function(r){return r instanceof Array?this.data=function(){return r}:r instanceof Function&&(this.data=r),this},n}(ds),ps=function(t){function n(r){var i;return(i=t.call(this)||this).options=void 0,i.options=r,i}q(n,t);var e=n.prototype;return e.handler=function(r){return typeof this.options.handle=="function"?this.options.handle(r):r.ok?r.json():(lt.error("Could not fetch data: "+r.status+" - "+r.statusText,!0),null)},e.get=function(r){var i=F({},this.options,r);return typeof i.data=="function"?i.data(i):fetch(i.url,i).then(this.handler.bind(this)).then(function(o){return{data:i.then(o),total:typeof i.total=="function"?i.total(o):void 0}})},n}(ds),wh=function(){function t(){}return t.createFromConfig=function(n){var e=null;return n.data&&(e=new Vi(n.data)),n.from&&(e=new Vi(this.tableElementToArray(n.from)),n.from.style.display="none"),n.server&&(e=new ps(n.server)),e||lt.error("Could not determine the storage type",!0),e},t.tableElementToArray=function(n){for(var e,r,i=[],o=J(n.querySelector("tbody").querySelectorAll("tr"));!(e=o()).done;){for(var s,a=[],u=J(e.value.querySelectorAll("td"));!(s=u()).done;){var l=s.value;l.childNodes.length===1&&l.childNodes[0].nodeType===Node.TEXT_NODE?a.push((r=l.innerHTML,new DOMParser().parseFromString(r,"text/html").documentElement.textContent)):a.push(cs(l.innerHTML))}i.push(a)}return i},t}(),zi=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function tt(t,n,e){if(!t.s){if(e instanceof an){if(!e.s)return void(e.o=tt.bind(null,t,n));1&n&&(n=e.s),e=e.v}if(e&&e.then)return void e.then(tt.bind(null,t,n),tt.bind(null,t,2));t.s=n,t.v=e;var r=t.o;r&&r(t)}}var an=function(){function t(){}return t.prototype.then=function(n,e){var r=new t,i=this.s;if(i){var o=1&i?n:e;if(o){try{tt(r,1,o(this.v))}catch(s){tt(r,2,s)}return r}return this}return this.o=function(s){try{var a=s.v;1&s.s?tt(r,1,n?n(a):a):e?tt(r,1,e(a)):tt(r,2,a)}catch(u){tt(r,2,u)}},r},t}();function Wi(t){return t instanceof an&&1&t.s}var bh=function(t){function n(r){var i;return(i=t.call(this)||this)._steps=new Map,i.cache=new Map,i.lastProcessorIndexUpdated=-1,r&&r.forEach(function(o){return i.register(o)}),i}q(n,t);var e=n.prototype;return e.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},e.register=function(r,i){if(i===void 0&&(i=null),r){if(r.type===null)throw Error("Processor type is not defined");r.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(r,i),this.afterRegistered(r)}},e.unregister=function(r){if(r){var i=this._steps.get(r.type);i&&i.length&&(this._steps.set(r.type,i.filter(function(o){return o!=r})),this.emit("updated",r))}},e.addProcessorByPriority=function(r,i){var o=this._steps.get(r.type);if(!o){var s=[];this._steps.set(r.type,s),o=s}if(i===null||i<0)o.push(r);else if(o[i]){var a=o.slice(0,i-1),u=o.slice(i+1);this._steps.set(r.type,a.concat(r).concat(u))}else o[i]=r},e.getStepsByType=function(r){return this.steps.filter(function(i){return i.type===r})},e.getSortedProcessorTypes=function(){return Object.keys(Z).filter(function(r){return!isNaN(Number(r))}).map(function(r){return Number(r)})},e.process=function(r){try{var i=function(c){return o.lastProcessorIndexUpdated=a.length,o.emit("afterProcess",u),u},o=this,s=o.lastProcessorIndexUpdated,a=o.steps,u=r,l=function(c,f){try{var h=function(d,g,_){if(typeof d[zi]=="function"){var w,y,S,v=d[zi]();if(function R(x){try{for(;!(w=v.next()).done;)if((x=g(w.value))&&x.then){if(!Wi(x))return void x.then(R,S||(S=tt.bind(null,y=new an,2)));x=x.v}y?tt(y,1,x):y=x}catch(H){tt(y||(y=new an),2,H)}}(),v.return){var k=function(R){try{w.done||v.return()}catch{}return R};if(y&&y.then)return y.then(k,function(R){throw k(R)});k()}return y}if(!("length"in d))throw new TypeError("Object is not iterable");for(var E=[],D=0;D<d.length;D++)E.push(d[D]);return function(R,x,H){var P,N,M=-1;return function B(O){try{for(;++M<R.length;)if((O=x(M))&&O.then){if(!Wi(O))return void O.then(B,N||(N=tt.bind(null,P=new an,2)));O=O.v}P?tt(P,1,O):P=O}catch(Dt){tt(P||(P=new an),2,Dt)}}(),P}(E,function(R){return g(E[R])})}(a,function(d){var g=o.findProcessorIndexByID(d.id),_=function(){if(g>=s)return Promise.resolve(d.process(u)).then(function(w){o.cache.set(d.id,u=w)});u=o.cache.get(d.id)}();if(_&&_.then)return _.then(function(){})})}catch(d){return f(d)}return h&&h.then?h.then(void 0,f):h}(0,function(c){throw lt.error(c),o.emit("error",u),c});return Promise.resolve(l&&l.then?l.then(i):i())}catch(c){return Promise.reject(c)}},e.findProcessorIndexByID=function(r){return this.steps.findIndex(function(i){return i.id==r})},e.setLastProcessorIndex=function(r){var i=this.findProcessorIndexByID(r.id);this.lastProcessorIndexUpdated>i&&(this.lastProcessorIndexUpdated=i)},e.processorPropsUpdated=function(r){this.setLastProcessorIndex(r),this.emit("propsUpdated"),this.emit("updated",r)},e.afterRegistered=function(r){this.setLastProcessorIndex(r),this.emit("afterRegister"),this.emit("updated",r)},G(n,[{key:"steps",get:function(){for(var r,i=[],o=J(this.getSortedProcessorTypes());!(r=o()).done;){var s=this._steps.get(r.value);s&&s.length&&(i=i.concat(s))}return i.filter(function(a){return a})}}]),n}(Fr),xh=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(e){try{return Promise.resolve(this.props.storage.get(e))}catch(r){return Promise.reject(r)}},G(n,[{key:"type",get:function(){return Z.Extractor}}]),n}(Nt),Sh=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(e){var r=Re.fromArray(e.data);return r.length=e.total,r},G(n,[{key:"type",get:function(){return Z.Transformer}}]),n}(Nt),kh=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(e){return typeof e[1]!="function"}).reduce(function(e,r){var i;return F({},e,((i={})[r[0]]=r[1],i))},{})},G(n,[{key:"type",get:function(){return Z.Initiator}}]),n}(Nt),Ah=function(t){function n(){return t.apply(this,arguments)||this}q(n,t);var e=n.prototype;return e.castData=function(r){if(!r||!r.length)return[];if(!this.props.header||!this.props.header.columns)return r;var i=cn.leafColumns(this.props.header.columns);return r[0]instanceof Array?r.map(function(o){var s=0;return i.map(function(a,u){return a.data!==void 0?(s++,typeof a.data=="function"?a.data(o):a.data):o[u-s]})}):typeof r[0]!="object"||r[0]instanceof Array?[]:r.map(function(o){return i.map(function(s,a){return s.data!==void 0?typeof s.data=="function"?s.data(o):s.data:s.id?o[s.id]:(lt.error("Could not find the correct cell for column at position "+a+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},e._process=function(r){return{data:this.castData(r.data),total:r.total}},G(n,[{key:"type",get:function(){return Z.Transformer}}]),n}(Nt),Nh=function(){function t(){}return t.createFromConfig=function(n){var e=new bh;return n.storage instanceof ps&&e.register(new kh({serverStorageOptions:n.server})),e.register(new xh({storage:n.storage})),e.register(new Ah({header:n.header})),e.register(new Sh),e},t}(),Eh=function(t){var n=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return n.state},this.getListeners=function(){return n.listeners},this.dispatch=function(e){if(typeof e!="function")throw new Error("Reducer is not a function");if(n.isDispatching)throw new Error("Reducers may not dispatch actions");n.isDispatching=!0;var r=n.state;try{n.state=e(n.state)}finally{n.isDispatching=!1}for(var i,o=J(n.listeners);!(i=o()).done;)(0,i.value)(n.state,r);return n.state},this.subscribe=function(e){if(typeof e!="function")throw new Error("Listener is not a function");return n.listeners=[].concat(n.listeners,[e]),function(){return n.listeners=n.listeners.filter(function(r){return r!==e})}},this.state=t},gs=function(t,n){var e={__c:n="__cC"+Qo++,__:null,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[n]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(mr)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),r.children}};return e.Provider.__=e.Consumer.contextType=e}(),Ch=function(){function t(){Object.assign(this,t.defaultConfig())}var n=t.prototype;return n.assign=function(e){return Object.assign(this,e)},n.update=function(e){return e?(this.assign(t.fromPartialConfig(F({},this,e))),this):this},t.defaultConfig=function(){return{store:new Eh({status:ot.Init,header:void 0,data:null}),plugin:new vh,tableRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},t.fromPartialConfig=function(e){var r=new t().assign(e);return typeof e.sort=="boolean"&&e.sort&&r.assign({sort:{multiColumn:!0}}),r.assign({header:cn.createFromConfig(r)}),r.assign({storage:wh.createFromConfig(r)}),r.assign({pipeline:Nh.createFromConfig(r)}),r.assign({translator:new dh(r.language)}),r.search&&r.plugin.add({id:"search",position:nn.Header,component:ph}),r.pagination&&r.plugin.add({id:"pagination",position:nn.Footer,component:gh}),r.plugins&&r.plugins.forEach(function(i){return r.plugin.add(i)}),r},t}();function ms(t){var n,e=et();return b("td",F({role:t.role,colSpan:t.colSpan,"data-column-id":t.column&&t.column.id,className:U(L("td"),t.className,e.className.td),style:F({},t.style,e.style.td),onClick:function(r){t.messageCell||e.eventEmitter.emit("cellClick",r,t.cell,t.column,t.row)}},(n=t.column)?typeof n.attributes=="function"?n.attributes(t.cell.data,t.row,t.column):n.attributes:{}),t.column&&typeof t.column.formatter=="function"?t.column.formatter(t.cell.data,t.row,t.column):t.column&&t.column.plugin?b(Fe,{pluginId:t.column.id,props:{column:t.column,cell:t.cell,row:t.row}}):t.cell.data)}function Dr(t){var n=et(),e=kt(function(r){return r.header});return b("tr",{className:U(L("tr"),n.className.tr),onClick:function(r){t.messageRow||n.eventEmitter.emit("rowClick",r,t.row)}},t.children?t.children:t.row.cells.map(function(r,i){var o=function(s){if(e){var a=cn.leafColumns(e.columns);if(a)return a[s]}return null}(i);return o&&o.hidden?null:b(ms,{key:r.id,cell:r,row:t.row,column:o})}))}function Je(t){return b(Dr,{messageRow:!0},b(ms,{role:"alert",colSpan:t.colSpan,messageCell:!0,cell:new Lr(t.message),className:U(L("message"),t.className?t.className:null)}))}function Mh(){var t=et(),n=kt(function(s){return s.data}),e=kt(function(s){return s.status}),r=kt(function(s){return s.header}),i=Le(),o=function(){return r?r.visibleColumns.length:0};return b("tbody",{className:U(L("tbody"),t.className.tbody)},n&&n.rows.map(function(s){return b(Dr,{key:s.id,row:s})}),e===ot.Loading&&(!n||n.length===0)&&b(Je,{message:i("loading"),colSpan:o(),className:U(L("loading"),t.className.loading)}),e===ot.Rendered&&n&&n.length===0&&b(Je,{message:i("noRecordsFound"),colSpan:o(),className:U(L("notfound"),t.className.notfound)}),e===ot.Error&&b(Je,{message:i("error"),colSpan:o(),className:U(L("error"),t.className.error)}))}var Th=function(t){function n(){return t.apply(this,arguments)||this}q(n,t);var e=n.prototype;return e.validateProps=function(){for(var r,i=J(this.props.columns);!(r=i()).done;){var o=r.value;o.direction===void 0&&(o.direction=1),o.direction!==1&&o.direction!==-1&&lt.error("Invalid sort direction "+o.direction)}},e.compare=function(r,i){return r>i?1:r<i?-1:0},e.compareWrapper=function(r,i){for(var o,s=0,a=J(this.props.columns);!(o=a()).done;){var u=o.value;if(s!==0)break;var l=r.cells[u.index].data,c=i.cells[u.index].data;s|=typeof u.compare=="function"?u.compare(l,c)*u.direction:this.compare(l,c)*u.direction}return s},e._process=function(r){var i=[].concat(r.rows);i.sort(this.compareWrapper.bind(this));var o=new Re(i);return o.length=r.length,o},G(n,[{key:"type",get:function(){return Z.Sort}}]),n}(Nt),qi=function(t,n,e,r){return function(i){var o=i.sort?[].concat(i.sort.columns):[],s=o.length,a=o.find(function(g){return g.index===t}),u=!1,l=!1,c=!1,f=!1;if(a!==void 0?e?a.direction===-1?c=!0:f=!0:s===1?f=!0:s>1&&(l=!0,u=!0):s===0?u=!0:s>0&&!e?(u=!0,l=!0):s>0&&e&&(u=!0),l&&(o=[]),u)o.push({index:t,direction:n,compare:r});else if(f){var h=o.indexOf(a);o[h].direction=n}else if(c){var d=o.indexOf(a);o.splice(d,1)}return F({},i,{sort:{columns:o}})}},_s=function(t,n,e){return function(r){var i=(r.sort?[].concat(r.sort.columns):[]).find(function(o){return o.index===t});return F({},r,i?qi(t,i.direction===1?-1:1,n,e)(r):qi(t,1,n,e)(r))}},Ih=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype._process=function(e){var r={};return this.props.url&&(r.url=this.props.url(e.url,this.props.columns)),this.props.body&&(r.body=this.props.body(e.body,this.props.columns)),F({},e,r)},G(n,[{key:"type",get:function(){return Z.ServerSort}}]),n}(Nt);function Rh(t){var n=et(),e=Le(),r=Ft(0),i=r[0],o=r[1],s=Ft(void 0),a=s[0],u=s[1],l=kt(function(d){return d.sort}),c=yn().dispatch,f=n.sort;nt(function(){var d=h();d&&u(d)},[]),nt(function(){return n.pipeline.register(a),function(){return n.pipeline.unregister(a)}},[n,a]),nt(function(){if(l){var d=l.columns.find(function(g){return g.index===t.index});o(d?d.direction:0)}},[l]),nt(function(){a&&l&&a.setProps({columns:l.columns})},[l]);var h=function(){var d=Z.Sort;return f&&typeof f.server=="object"&&(d=Z.ServerSort),n.pipeline.getStepsByType(d).length===0?d===Z.ServerSort?new Ih(F({columns:l?l.columns:[]},f.server)):new Th({columns:l?l.columns:[]}):null};return b("button",{tabIndex:-1,"aria-label":e("sort.sort"+(i===1?"Desc":"Asc")),title:e("sort.sort"+(i===1?"Desc":"Asc")),className:U(L("sort"),L("sort",function(d){return d===1?"asc":d===-1?"desc":"neutral"}(i)),n.className.sort),onClick:function(d){d.preventDefault(),d.stopPropagation(),c(_s(t.index,d.shiftKey===!0&&f.multiColumn,t.compare))}})}function Ph(t){var n,e=function(s){return s instanceof MouseEvent?Math.floor(s.pageX):Math.floor(s.changedTouches[0].pageX)},r=function(s){s.stopPropagation();var a,u,l,c,f,h=parseInt(t.thRef.current.style.width,10)-e(s);a=function(d){return i(d,h)},(u=10)===void 0&&(u=100),n=function(){var d=[].slice.call(arguments);l?(clearTimeout(c),c=setTimeout(function(){Date.now()-f>=u&&(a.apply(void 0,d),f=Date.now())},Math.max(u-(Date.now()-f),0))):(a.apply(void 0,d),f=Date.now(),l=!0)},document.addEventListener("mouseup",o),document.addEventListener("touchend",o),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)},i=function(s,a){s.stopPropagation();var u=t.thRef.current;a+e(s)>=parseInt(u.style.minWidth,10)&&(u.style.width=a+e(s)+"px")},o=function s(a){a.stopPropagation(),document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",s)};return b("div",{className:U(L("th"),L("resizable")),onMouseDown:r,onTouchStart:r,onClick:function(s){return s.stopPropagation()}})}function Lh(t){var n=et(),e=Zn(null),r=Ft({}),i=r[0],o=r[1],s=yn().dispatch;nt(function(){if(n.fixedHeader&&e.current){var c=e.current.offsetTop;typeof c=="number"&&o({top:c})}},[e]);var a,u=function(){return t.column.sort!=null},l=function(c){c.stopPropagation(),u()&&s(_s(t.index,c.shiftKey===!0&&n.sort.multiColumn,t.column.sort.compare))};return b("th",F({ref:e,"data-column-id":t.column&&t.column.id,className:U(L("th"),u()?L("th","sort"):null,n.fixedHeader?L("th","fixed"):null,n.className.th),onClick:l,style:F({},n.style.th,{minWidth:t.column.minWidth,width:t.column.width},i,t.style),onKeyDown:function(c){u()&&c.which===13&&l(c)},rowSpan:t.rowSpan>1?t.rowSpan:void 0,colSpan:t.colSpan>1?t.colSpan:void 0},(a=t.column)?typeof a.attributes=="function"?a.attributes(null,null,t.column):a.attributes:{},u()?{tabIndex:0}:{}),b("div",{className:L("th","content")},t.column.name!==void 0?t.column.name:t.column.plugin!==void 0?b(Fe,{pluginId:t.column.plugin.id,props:{column:t.column}}):null),u()&&b(Rh,F({index:t.index},t.column.sort)),t.column.resizable&&t.index<n.header.visibleColumns.length-1&&b(Ph,{column:t.column,thRef:e}))}function Fh(){var t,n=et(),e=kt(function(r){return r.header});return e?b("thead",{key:e.id,className:U(L("thead"),n.className.thead)},(t=cn.tabularFormat(e.columns)).map(function(r,i){return function(o,s,a){var u=cn.leafColumns(e.columns);return b(Dr,null,o.map(function(l){return l.hidden?null:function(c,f,h,d){var g=function(_,w,y){var S=cn.maximumDepth(_),v=y-w;return{rowSpan:Math.floor(v-S-S/v),colSpan:_.columns&&_.columns.length||1}}(c,f,d);return b(Lh,{column:c,index:h,colSpan:g.colSpan,rowSpan:g.rowSpan})}(l,s,u.indexOf(l),a)}))}(r,i,t.length)})):null}var Xi=function(t){return function(n){return F({},n,{header:t})}};function Dh(){var t=et(),n=Zn(null),e=yn().dispatch;return nt(function(){n&&e(function(r){return function(i){return F({},i,{tableRef:r})}}(n))},[n]),b("table",{ref:n,role:"grid",className:U(L("table"),t.className.table),style:F({},t.style.table,{height:t.height})},b(Fh,null),b(Mh,null))}function $h(){var t=Ft(!0),n=t[0],e=t[1],r=Zn(null),i=et();return nt(function(){r.current.children.length===0&&e(!1)},[r]),n?b("div",{ref:r,className:U(L("head"),i.className.header),style:F({},i.style.header)},b(Fe,{position:nn.Header})):null}function Bh(){var t=Zn(null),n=Ft(!0),e=n[0],r=n[1],i=et();return nt(function(){t.current.children.length===0&&r(!1)},[t]),e?b("div",{ref:t,className:U(L("footer"),i.className.footer),style:F({},i.style.footer)},b(Fe,{position:nn.Footer})):null}function Oh(){var t=et(),n=yn().dispatch,e=kt(function(a){return a.status}),r=kt(function(a){return a.data}),i=kt(function(a){return a.tableRef}),o={current:null};nt(function(){return n(Xi(t.header)),s(),t.pipeline.on("updated",s),function(){return t.pipeline.off("updated",s)}},[]),nt(function(){t.header&&e===ot.Loaded&&r!=null&&r.length&&n(Xi(t.header.adjustWidth(t,i,o)))},[r,t,o]);var s=function(){try{n(function(u){return F({},u,{status:ot.Loading})});var a=function(u,l){try{var c=Promise.resolve(t.pipeline.process()).then(function(f){n(function(h){return function(d){return h?F({},d,{data:h,status:ot.Loaded}):d}}(f)),setTimeout(function(){n(function(h){return h.status===ot.Loaded?F({},h,{status:ot.Rendered}):h})},0)})}catch(f){return l(f)}return c&&c.then?c.then(void 0,l):c}(0,function(u){lt.error(u),n(function(l){return F({},l,{data:null,status:ot.Error})})});return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(u){return Promise.reject(u)}};return b("div",{role:"complementary",className:U("gridjs",L("container"),e===ot.Loading?L("loading"):null,t.className.container),style:F({},t.style.container,{width:t.width})},e===ot.Loading&&b("div",{className:L("loading-bar")}),b($h,null),b("div",{className:L("wrapper"),style:{height:t.height}},b(Dh,null)),b(Bh,null),b("div",{ref:o,id:"gridjs-temp",className:L("temp")}))}var Uh=function(t){function n(r){var i;return(i=t.call(this)||this).config=void 0,i.plugin=void 0,i.config=new Ch().assign({instance:ki(i),eventEmitter:ki(i)}).update(r),i.plugin=i.config.plugin,i}q(n,t);var e=n.prototype;return e.updateConfig=function(r){return this.config.update(r),this},e.createElement=function(){return b(gs.Provider,{value:this.config,children:b(Oh,{})})},e.forceRender=function(){return this.config&&this.config.container||lt.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),En(this.createElement(),this.config.container),this},e.destroy=function(){this.config.pipeline.clearCache(),En(null,this.config.container)},e.render=function(r){return r||lt.error("Container element cannot be null",!0),r.childNodes.length>0?(lt.error("The container element "+r+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=r,En(this.createElement(),r),this)},n}(Fr);const Hh=[2015,2016,2017,2018,2019,2020],on={top:10,right:30,bottom:30,left:60};var Yt,wt,Tt,hn,It,Y,$n,Bn,jt;class Vh{constructor(n,e){T(this,Yt,void 0);T(this,wt,void 0);T(this,Tt,void 0);T(this,hn,void 0);T(this,It,void 0);T(this,Y,void 0);T(this,$n,void 0);T(this,Bn,void 0);T(this,jt,void 0);C(this,Yt,e);const r=co(n);C(this,Y,r.node().getBoundingClientRect()),C(this,jt,document.getElementById("main_title")??W()),C(this,It,r.append("svg").attr("width",p(this,Y).width).attr("height",p(this,Y).height).append("g").attr("transform",`translate(${on.left},${on.top})`)),p(this,Y).width=p(this,Y).width-on.left-on.right,p(this,Y).height=p(this,Y).height-on.top-on.bottom,C(this,Tt,To().range([0,p(this,Y).width]).domain(Hh).padding(.2)),p(this,It).append("g").attr("transform",`translate(0, ${p(this,Y).height})`).call(Zi(p(this,Tt)).tickFormat(o=>Math.round(o.valueOf()).toString())),C(this,wt,Se().domain([0,1]).range([p(this,Y).height,0])),C(this,hn,p(this,It).append("g")),zr(p(this,wt))(p(this,hn)),C(this,Bn,p(this,It).append("g")),C(this,$n,p(this,It).append("path")),p(this,It).append("text").attr("transform",`translate(-45, ${p(this,Y).height/2}) rotate(-90)`).style("text-anchor","middle").style("direction","vertical-lr").text("Energy Intensity (eWh/HDD/sq.ft)")}updateFromState(){p(this,jt).innerText="Overall Sector Performance";const n=p(this,Yt).focusedSchoolRows(),e=p(this,Yt).focusedBoardRows(),r=p(this,Yt).sectorRows();let i=r,o=0;if(e&&e.length>0&&(p(this,jt).innerText="Board Performance",o=Math.max(o,Be(e,function(a){return+a.energyIntNorm})??W()),i=e),n&&n.length>0&&(p(this,jt).innerText="School vs Board Performance",o=Math.max(o,Be(n,function(a){return+a.energyIntNorm})??W()),!e||e.length==0))throw"should only have school rows along with board rows.";o==0&&(o=Be(r,function(a){return+a.energyIntNorm})??W()),C(this,wt,Se().domain([0,o]).range([p(this,Y).height,0])),zr(p(this,wt))(p(this,hn)),p(this,$n).datum(i).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",jl().x(a=>p(this,Tt).call(this,a.year)+p(this,Tt).bandwidth()/2).y(a=>p(this,wt).call(this,a.energyIntNorm))),n&&(console.log("WE HAVE SCHOOL ROWS"),p(this,Bn).selectAll("rect").data(n).join("rect").attr("x",a=>p(this,Tt).call(this,a.year)).attr("y",a=>p(this,wt).call(this,a.energyIntNorm)).attr("width",p(this,Tt).bandwidth()).attr("height",a=>p(this,Y).height-p(this,wt).call(this,a.energyIntNorm)).attr("fill","#69b3a2"))}}Yt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,hn=new WeakMap,It=new WeakMap,Y=new WeakMap,$n=new WeakMap,Bn=new WeakMap,jt=new WeakMap;var $t,Zt,On;class zh{constructor(n,e){T(this,$t,void 0);T(this,Zt,void 0);T(this,On,void 0);C(this,On,n),C(this,$t,document.getElementById("tab_history")??W()),C(this,Zt,document.getElementById("tab_board_ranking")??W());for(const r of[p(this,$t),p(this,Zt)])r.addEventListener("click",i=>{console.log(i);const o=r==p(this,$t)?"main":"todo";n.setViewType(o),e.updateFromState(n)})}updateFromState(){switch(p(this,On).viewType()){case"main":p(this,Zt).className="inactive",p(this,$t).className="";break;case"todo":p(this,Zt).className="",p(this,$t).className="inactive";break}}}$t=new WeakMap,Zt=new WeakMap,On=new WeakMap;var Bt,ft,K,Q,bt,Un,Hn;class Wh extends Zo{constructor(e,r){super(document.querySelector("#main_view")??W());T(this,Bt,void 0);T(this,ft,void 0);T(this,K,void 0);T(this,Q,void 0);T(this,bt,void 0);T(this,Un,void 0);T(this,Hn,void 0);C(this,ft,document.querySelector("#table_container")??W()),C(this,bt,"schools"),C(this,Un,new Vh("#main_graph",e)),C(this,Hn,new zh(e,r)),r.setTabView(p(this,Hn)),C(this,Bt,new Uh({data:[],pagination:{limit:10}})),p(this,Bt).render(p(this,ft)),p(this,Bt).on("rowClick",(i,o)=>{if(p(this,ft).style.visibility="hidden",p(this,bt)=="boards"){const s=o.cells[0].data??W();e.setFocus({kind:"board",board:s.toString()}),p(this,Q).value=s.toString(),p(this,K).value=""}else if(p(this,bt)=="schools"){const s=o.cells[0].data??W(),a=o.cells[1].data??W(),u=o.cells[2].data??W();e.setFocus({kind:"school",schoolName:s.toString(),address:u.toString(),board:a}),p(this,K).value=s.toString(),p(this,Q).value=a.toString()}else throw"Should only be able to search schools or boards.";r.updateFromState(e)}),C(this,Q,document.getElementById("search_board")??W()),p(this,Q).addEventListener("input",()=>{r.updateFromState(e)}),p(this,Q).addEventListener("focus",()=>{C(this,bt,"boards"),p(this,Q).value="";const i=p(this,Q).getBoundingClientRect().bottom;p(this,ft).style.visibility="visible",p(this,ft).style.transform=`translate(0px, ${i}px)`,r.updateFromState(e)}),C(this,K,document.getElementById("search_school")??W()),p(this,K).addEventListener("input",()=>{r.updateFromState(e)}),p(this,K).addEventListener("focus",()=>{C(this,bt,"schools"),p(this,K).value="";const i=p(this,K).getBoundingClientRect().bottom;p(this,ft).style.visibility="visible",p(this,ft).style.transform=`translate(0px, ${i}px)`,r.updateFromState(e)}),document.addEventListener("keydown",i=>{i.key=="Escape"&&(p(this,Q).blur(),p(this,K).blur())}),this.el().addEventListener("click",i=>{if(i.target.tagName=="LABEL"){switch(p(this,Q).blur(),p(this,K).blur(),e.focus().kind){case"none":p(this,Q).value="",p(this,K).value="";break;case"board":p(this,K).value="";break}p(this,ft).style.visibility="hidden"}})}updateFromState(e){if(p(this,Un).updateFromState(),p(this,bt)=="schools"){const r=p(this,K).value,i=e.getFilteredSchools(r,p(this,Q).value);p(this,Bt).updateConfig({columns:[{hidden:!1,name:"school"},{hidden:!0,name:"board"},{hidden:!0,name:"address"}],data:i.map(o=>[o.school,o.board,o.address])}).forceRender()}else if(p(this,bt)=="boards"){const r=p(this,Q).value,i=e.getFilteredBoards(r);p(this,Bt).updateConfig({columns:[{hidden:!1,name:"board"}],data:i.map(o=>[o.board])}).forceRender()}}}Bt=new WeakMap,ft=new WeakMap,K=new WeakMap,Q=new WeakMap,bt=new WeakMap,Un=new WeakMap,Hn=new WeakMap;const qh=2020,Wt={top:10,right:10,bottom:30,left:20},Xh=3,yr=7,Yh=12/yr;function jh(t,n){const e=Math.abs(n-t);return e>yr||n<0?3:3+Yh*(yr-e)}class Zh{constructor(n,e,r){rt(this,"row");rt(this,"y");rt(this,"height");this.row=n,this.y=e,this.height=r}}var Ot,dn,Rt,j,Vn,Pt,zn;class Gh{constructor(n,e){T(this,Ot,void 0);T(this,dn,void 0);T(this,Rt,void 0);T(this,j,void 0);T(this,Vn,void 0);T(this,Pt,void 0);T(this,zn,void 0);C(this,Ot,e);const r=co(n);C(this,j,r.node().getBoundingClientRect()),console.log("RECT BEFORE",p(this,j));const o=(p(this,Ot).allBoardRowsForYear(qh)??W()).sort((s,a)=>a.energyIntNorm-s.energyIntNorm);C(this,Pt,o.map(s=>new Zh(s,0,0))),C(this,Rt,r.append("svg").attr("width",p(this,j).width).attr("height",p(this,j).height).append("g").attr("transform",`translate(${Wt.left},${Wt.top})`)),p(this,j).width=p(this,j).width-Wt.left-Wt.right,p(this,j).height=p(this,j).height-Wt.top-Wt.bottom,C(this,dn,Se().range([0,p(this,j).width]).domain(Cs(p(this,Pt),s=>s.row.energyIntNorm))),p(this,Rt).append("g").attr("transform",`translate(0, ${p(this,j).height-Wt.bottom})`).call(Zi(p(this,dn)).tickFormat(s=>Math.round(s.valueOf()).toString())),C(this,Vn,p(this,Rt).append("g")),C(this,zn,p(this,Rt).append("g")),p(this,Rt).append("text").attr("transform",`translate(${p(this,j).width/2}, ${p(this,j).height+15})`).style("text-anchor","middle").text("Energy Intensity (eWh/HDD/sq.ft)"),p(this,Rt).append("text").attr("transform",`translate(-5, ${p(this,j).height/2}) rotate(-90)`).style("text-anchor","middle").style("direction","vertical-lr").text("Y axis label TODO"),this.updateFromState()}updateFromState(){let n="";switch(p(this,Ot).focus().kind){case"board":n=p(this,Ot).focus().board;break;case"school":n=p(this,Ot).focus().board;break}console.log("FOCUSED BOARD:",n);const e=p(this,Pt).findIndex(i=>i.row.board==n);console.log("current: ",e),console.log("TODO view: updateFromState");let r=0;p(this,Pt).forEach((i,o)=>{const s=jh(o,e);i.y=r,i.height=s,r+=s+Xh}),p(this,Vn).selectAll("rect").data(p(this,Pt)).join("rect").attr("x",0).attr("y",i=>i.y).attr("width",i=>p(this,dn).call(this,i.row.energyIntNorm)).attr("height",i=>i.height).attr("fill",(i,o)=>o==e?"#EECC77":"#FFCCCC"),p(this,zn).selectAll("text").data(p(this,Pt)).join("text").attr("font-size",10).attr("x",2).attr("y",i=>i.y+i.height/2).text(i=>i.height>10?i.row.board:"").style("dominant-baseline","middle").attr("fill","#000000")}}Ot=new WeakMap,dn=new WeakMap,Rt=new WeakMap,j=new WeakMap,Vn=new WeakMap,Pt=new WeakMap,zn=new WeakMap;var Wn,pn;class Kh extends Zo{constructor(){super(document.querySelector("#todo_view")??W());T(this,Wn,void 0);T(this,pn,null);C(this,Wn,document.querySelector("#board_name")??W())}updateFromState(e){p(this,pn)==null&&C(this,pn,new Gh("#todo_graph",e));const r=e.focus();p(this,Wn).innerText="Board: "+r.board,p(this,pn).updateFromState()}}Wn=new WeakMap,pn=new WeakMap;var Gt,qn;class Qh{constructor(n){T(this,Gt,void 0);T(this,qn,null);C(this,Gt,n)}updateFromState(n){var r;let e=this.activeView(n);for(const i of p(this,Gt))i.updateFromState(n),i.setVisible(i==e);(r=p(this,qn))==null||r.updateFromState()}activeView(n){switch(n.viewType()){case"main":return p(this,Gt)[0];case"todo":return p(this,Gt)[1]}}setTabView(n){C(this,qn,n)}}Gt=new WeakMap,qn=new WeakMap;let re=null;async function Jh(){const t=(await fetch(Zl)).body||W(),n=new DecompressionStream("gzip"),e=t.pipeThrough(n).getReader();let r="";for(;;){const{done:u,value:l}=await e.read();if(r+=new TextDecoder().decode(l),u)break}const i=bl(r),o=[];for(const u of i)o.push(new rh({year:parseInt(u.Year),board:u.Board,school:u.School,address:u.Address,city:u.City,area:parseFloat(u.Area),energyNorm:parseFloat(u["energyNorm (ekWh/HDD)"]),ghgNorm:parseFloat(u["ghgNorm (kg/HDD)"])}));re=new ih(o);const s=[],a=new Qh(s);s.push(new Wh(re,a)),s.push(new Kh),await re.init(),a.updateFromState(re)}Jh();
