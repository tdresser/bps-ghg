var br=Object.defineProperty;var wr=(e,t,n)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dt=(e,t,n)=>(wr(e,typeof t!="symbol"?t+"":t,n),n),Xt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var x=(e,t,n)=>(Xt(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},z=(e,t,n,r)=>(Xt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();class xr extends Map{constructor(t,n=Ar){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(qt(this,t))}has(t){return super.has(qt(this,t))}set(t,n){return super.set(Sr(this,t),n)}delete(t){return super.delete(kr(this,t))}}function qt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Sr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function kr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ar(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cr(e){return e}function Nr(e,t,...n){return Er(e,Cr,t,n)}function Er(e,t,n,r){return function o(i,s){if(s>=r.length)return n(i);const u=new xr,c=r[s++];let f=-1;for(const a of i){const h=c(a,++f,i),p=u.get(h);p?p.push(a):u.set(h,[a])}for(const[a,h]of u)u.set(a,o(h,s));return t(u)}(e,0)}function Lr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}var Zt={},pt={},_t=34,Pe=10,vt=13;function Ln(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ir(e,t){var n=Ln(e);return function(r,o){return t(n(r),o,e)}}function Gt(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function K(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Tr(e){return e<0?"-"+K(-e,6):e>9999?"+"+K(e,6):K(e,4)}function Pr(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Tr(e.getUTCFullYear())+"-"+K(e.getUTCMonth()+1,2)+"-"+K(e.getUTCDate(),2)+(o?"T"+K(t,2)+":"+K(n,2)+":"+K(r,2)+"."+K(o,3)+"Z":r?"T"+K(t,2)+":"+K(n,2)+":"+K(r,2)+"Z":n||t?"T"+K(t,2)+":"+K(n,2)+"Z":"")}function Ur(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,p){var l,_,S=o(h,function(w,m){if(l)return l(w,m-1);_=w,l=p?Ir(w,p):Ln(w)});return S.columns=_||[],S}function o(h,p){var l=[],_=h.length,S=0,w=0,m,A=_<=0,b=!1;h.charCodeAt(_-1)===Pe&&--_,h.charCodeAt(_-1)===vt&&--_;function k(){if(A)return pt;if(b)return b=!1,Zt;var D,I=S,y;if(h.charCodeAt(I)===_t){for(;S++<_&&h.charCodeAt(S)!==_t||h.charCodeAt(++S)===_t;);return(D=S)>=_?A=!0:(y=h.charCodeAt(S++))===Pe?b=!0:y===vt&&(b=!0,h.charCodeAt(S)===Pe&&++S),h.slice(I+1,D-1).replace(/""/g,'"')}for(;S<_;){if((y=h.charCodeAt(D=S++))===Pe)b=!0;else if(y===vt)b=!0,h.charCodeAt(S)===Pe&&++S;else if(y!==n)continue;return h.slice(I,D)}return A=!0,h.slice(I,_)}for(;(m=k())!==pt;){for(var M=[];m!==Zt&&m!==pt;)M.push(m),m=k();p&&(M=p(M,w++))==null||l.push(M)}return l}function i(h,p){return h.map(function(l){return p.map(function(_){return a(l[_])}).join(e)})}function s(h,p){return p==null&&(p=Gt(h)),[p.map(a).join(e)].concat(i(h,p)).join(`
`)}function u(h,p){return p==null&&(p=Gt(h)),i(h,p).join(`
`)}function c(h){return h.map(f).join(`
`)}function f(h){return h.map(a).join(e)}function a(h){return h==null?"":h instanceof Date?Pr(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:o,format:s,formatBody:u,formatRows:c,formatRow:f,formatValue:a}}var Dr=Ur(","),Br=Dr.parse;function De(e,t,n){this.k=e,this.x=t,this.y=n}De.prototype={constructor:De,scale:function(e){return e===1?this:new De(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new De(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};De.prototype;const Or="/bps-ghg/assets/data.csv-GuMWUEqF.gzip";var re=(e=>(e[e.None=1]="None",e[e.Board=2]="Board",e[e.School=3]="School",e[e.Todo=4]="Todo",e))(re||{}),ke,nt;class In{constructor(t){V(this,ke,void 0);V(this,nt,null);z(this,ke,t)}el(){return x(this,ke)}setVisible(t){t!=x(this,nt)&&(x(this,ke).style.display=t?"block":"none")}}ke=new WeakMap,nt=new WeakMap;function ae(){throw new Error("missing element")}function Yt(){return new Promise(e=>setTimeout(e,0))}function Rr(e,t,n){e.addEventListener("click",()=>{t.setFocus({kind:re.None}),n.render(t)})}var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mr={Other:0,CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192};const Hr="ABAOAAAAAACwiAAAAYkHdvjtnH+IFkUYxx/v3vPe7uw8UkjsD43ChKICDQsT3iIJy4gSiZAjkn5JUFlaiFmjccT9ESkpGBGVIlQgWSkY/QDBoMgrQv0jRJDAfkCXhUmgRX23d4ebnndmd3Z3ZnfVeeDDzM7MPs8zv57Zd2+5hd1Ed4ClYAisBuuUsqLpMHgJjIBNFu1fBW8l1O8AO8Ee8Cn4HIyCg+CI0u4Y+AmMgVPgDOhuEHWBPjAZXAy2gjfA9kb73hlx+i7SK8AHYDf4BOwHB8AoOAyOguPgB/ArOKlcnwHdPe32/Uin9LTvvwTph0gv62nbubKnXT+nZ1z/DcjfFF8vQno7uEaxH923BGVXN9v5Zcgvj/VFPIT8Y/H1k0jXxPn1SEfARjBdab8V+TfB22CXUh5xd3OcZTH3g6di1LZJbLNs55q96M9n4J9Gm6hsfzQvcT8fbfy//TyUf8vG4Lses/5jcd2PSE/IcQan4/o/UXYadE0kaoJBMG1ivNbidNbETr1XoWyuplwyHFN0fFai/8/EY7BIKY/68EpCvwP+mc/m/2vNGnBhp1eZ51bCmgsEAoFAIBAIBAKBQKAO3Irfrg3lfc4qi/cXd+Kee5TfvAd6ieY0ie5D2cNx+eNInwZLmu33gWuRn4/8C3H9CNJNYEt8/TrS35HuSPktvRP1z0LPOvAceB4IsB5saIa6UBfqQl2oc123AjwBVjWrP7MCgcC5y/ue/56yqXv87+qcIU2Z+ny8tuHHpyxsvrDNITDXgqkDRJcPdJY/wMo24/oQmDqZaPHkdplAuhv8ApqDRDeCVj/OAvD9BUSX9qF8Qpt7lTxnZ7+5TmVtrGMM7XchP3sS0SNgGzg4yU5HIBAIBM5NfsO5QDgfjuM54STOw7/Az/F3QtfhfF4Qn9F/gxMouxm/WU7F9afBQuUM7+rtPF+jb0b6ese/I7sI+emadhEzUT5bqbsW+esNbSMWoG6hWo/8gOLPUqUu+v5rKEHX8oS6iEXQexd7XlmBe1aCNWAp6kSsYyjHc82Liv2Xkd/C/HkN1w/Geren+KryToa2PtlQg2c9zijGZnGJ9kaibzZh84jmmfx4TeYpK9H3usMKqxnDCWxsdLY/3ygy9h+l/LYbYHtuXw2/rfsSPo0a/Jrn6PvPrzL2+7CmfV88lkc9j+F7cRzYU4N48DF8uA3n/T7Fly9q4Jdvoth0uLf9LORC11hvO/0D6RnQfRa99+2Hr1NS/M26VvfEe2jaWTAOvG8zzgKf8zCrYL++qUEfbumeQAjTVnQp+QmW99gQpDoJ4+9uHZe5/l3OW/M8x6WUZaduUvUc5p13NTXlz3VpGbCVrGNe5zOnjvGlrDWY1IdWShuuQ9fWh6h+VSV1Wit1lvNhHFz1zeUYtCg5ntvOSStDW5cITRnF5RJ+rcasJHExztwu910tl6LzLYsvuvvzilB0mvSaxt/V+SY0EMurfkjbrTjfInf+FJGkNdzSlOukZaDo3snqs7RZpqj2Gx7sS52D5O79k+93W2W/T3NhQxe3VeF16pwn4eI8qev7Sl1s0PnPy5PalSV57Pp6XuDxrypR9wBR8nOCzm/eXuYp5d4s/lV1XvL+lG2b+2AaQ1nPr23Hrc7z0WT5qvZL0v7QtdX5zdu6HMei+gV1ri8et4XSVpCfdeB7fRWNRy79UP0RCT4Jyre/88bbKsQUawUrV69dxjd+nlXxbCKos79pz1BpOqucz0gEdZ5hMk+aa7Wdy/7xZ5Yqhc+nyHivrkyQ/reM7tziuFojfM7zxtq0505XYutvHrtVnzNl2ONrTGdPkLv9ZjNHOoShnCh5nLLYKOKfK4qK7bjx/gqyj9lFJc2Wz/HIqyMSYaGnqM8+xp6vB1/6feg22UmLFUno1rurvelz7yT1UVfORW3L7+d6fMcAXdzxIVK3TNNioZpSyj2242izpky6y5S0fpr6q5ZXJT7O1qrmQRVB+rkQ1Dk3vvYttyGoc+51/mUVkYLtXvTx7MCvbUnzW2czyR8pql4XUlbcN9l1pSfPfOl0JV2bylyKoM4959sHQfr9Vpbk2V8u4ry0ndcvH5I1xggP9qVem/PHZL+qeGLrc945tLnHtG/LEtdjr4urxMpM92X1RZDd+pLtsorUydeCaiuvbtdSpQ9l2M4SU01nvI1e35L3uS5Jlw8pe1ykCKo2JtrGK9O9ujOlimcD6Y9LEWQ+7019d2VDLVPrTCLrsvjsQ1TfJVJM12pZmm5b4Xptx6HM9SpFkP2c6drJa5/iSr+pD7r+CNLvATVfpST1RYog/fwKTdsyxLVNQfnWrkyziGltJK2hLLptzjHXIsh+/HytmyQfpPA5VNtzXWWLzbiVsc9sbWSJ7UWE69KNh6v9kya2c6TzMa0fwpD37TtvQ6wuiw9CA9cny33Mj2pLte9Kp6996HO/83HPQ5r+ov5mvU9Qte/fIrGJP7axPO/9eXX6kjLPKZNd17iyZdOHLP31JSbfXY6hC59c+ZZ136TZ9SFlj6cvmVkSrkSQn3NG5KBqEVSeH6Ji/vvnhFWjSlfFNDwzyMgqLvvKxXffbeASBWo+Zj4p2x6TfwE=",jr={data:Hr},Vr="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",zr={data:Vr};var Tt=0,Tn=-3;function Re(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Wr(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Re,this.dtree=new Re}var Pn=new Re,Un=new Re,Pt=new Uint8Array(30),Ut=new Uint16Array(30),Dn=new Uint8Array(30),Bn=new Uint16Array(30),Xr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kt=new Re,ie=new Uint8Array(320);function On(e,t,n,r){var o,i;for(o=0;o<n;++o)e[o]=0;for(o=0;o<30-n;++o)e[o+n]=o/n|0;for(i=r,o=0;o<30;++o)t[o]=i,i+=1<<e[o]}function qr(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}var Qt=new Uint16Array(16);function gt(e,t,n,r){var o,i;for(o=0;o<16;++o)e.table[o]=0;for(o=0;o<r;++o)e.table[t[n+o]]++;for(e.table[0]=0,i=0,o=0;o<16;++o)Qt[o]=i,i+=e.table[o];for(o=0;o<r;++o)t[n+o]&&(e.trans[Qt[t[n+o]]++]=o)}function Zr(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=e.tag&1;return e.tag>>>=1,t}function ue(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function kt(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,o=0,i=e.tag;do r=2*r+(i&1),i>>>=1,++o,n+=t.table[o],r-=t.table[o];while(r>=0);return e.tag=i,e.bitcount-=o,t.trans[n+r]}function Gr(e,t,n){var r,o,i,s,u,c;for(r=ue(e,5,257),o=ue(e,5,1),i=ue(e,4,4),s=0;s<19;++s)ie[s]=0;for(s=0;s<i;++s){var f=ue(e,3,0);ie[Xr[s]]=f}for(gt(Kt,ie,0,19),u=0;u<r+o;){var a=kt(e,Kt);switch(a){case 16:var h=ie[u-1];for(c=ue(e,2,3);c;--c)ie[u++]=h;break;case 17:for(c=ue(e,3,3);c;--c)ie[u++]=0;break;case 18:for(c=ue(e,7,11);c;--c)ie[u++]=0;break;default:ie[u++]=a;break}}gt(t,ie,0,r),gt(n,ie,r,o)}function Jt(e,t,n){for(;;){var r=kt(e,t);if(r===256)return Tt;if(r<256)e.dest[e.destLen++]=r;else{var o,i,s,u;for(r-=257,o=ue(e,Pt[r],Ut[r]),i=kt(e,n),s=e.destLen-ue(e,Dn[i],Bn[i]),u=s;u<s+o;++u)e.dest[e.destLen++]=e.dest[u]}}}function Yr(e){for(var t,n,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],t!==(~n&65535))return Tn;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,Tt}function Kr(e,t){var n=new Wr(e,t),r,o,i;do{switch(r=Zr(n),o=ue(n,2,0),o){case 0:i=Yr(n);break;case 1:i=Jt(n,Pn,Un);break;case 2:Gr(n,n.ltree,n.dtree),i=Jt(n,n.ltree,n.dtree);break;default:i=Tn}if(i!==Tt)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}qr(Pn,Un);On(Pt,Ut,4,3);On(Dn,Bn,2,1);Pt[28]=0;Ut[28]=258;var Qr=Kr;const Jr=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,$t=(e,t,n)=>{let r=e[t];e[t]=e[n],e[n]=r},$r=e=>{const t=e.length;for(let n=0;n<t;n+=4)$t(e,n,n+3),$t(e,n+1,n+2)},eo=e=>{Jr&&$r(e)};var to={swap32LE:eo};const en=Qr,{swap32LE:no}=to,Dt=11,be=5,ro=Dt-be,oo=65536>>Dt,io=1<<ro,so=io-1,Ye=2,uo=1<<be,yt=uo-1,Rn=65536>>be,ao=1024>>be,co=Rn+ao,lo=co,fo=32,ho=lo+fo,po=1<<Ye;let _o=class{constructor(t){const n=typeof t.readUInt32BE=="function"&&typeof t.slice=="function";if(n||t instanceof Uint8Array){let r;if(n)this.highStart=t.readUInt32LE(0),this.errorValue=t.readUInt32LE(4),r=t.readUInt32LE(8),t=t.slice(12);else{const o=new DataView(t.buffer);this.highStart=o.getUint32(0,!0),this.errorValue=o.getUint32(4,!0),r=o.getUint32(8,!0),t=t.subarray(12)}t=en(t,new Uint8Array(r)),t=en(t,new Uint8Array(r)),no(t),this.data=new Uint32Array(t.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=t)}get(t){let n;return t<0||t>1114111?this.errorValue:t<55296||t>56319&&t<=65535?(n=(this.data[t>>be]<<Ye)+(t&yt),this.data[n]):t<=65535?(n=(this.data[Rn+(t-55296>>be)]<<Ye)+(t&yt),this.data[n]):t<this.highStart?(n=this.data[ho-oo+(t>>Dt)],n=this.data[n+(t>>be&so)],n=(n<<Ye)+(t&yt),this.data[n]):this.data[this.data.length-po]}};var vo=_o,Fn={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:typeof window<"u"?window:mt,function(){var n="3.7.5",r=n,o=typeof atob=="function",i=typeof btoa=="function",s=typeof Buffer=="function",u=typeof TextDecoder=="function"?new TextDecoder:void 0,c=typeof TextEncoder=="function"?new TextEncoder:void 0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=Array.prototype.slice.call(f),h=function(d){var g={};return d.forEach(function(j,$){return g[j]=$}),g}(a),p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,l=String.fromCharCode.bind(String),_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(d){return new Uint8Array(Array.prototype.slice.call(d,0))},S=function(d){return d.replace(/=/g,"").replace(/[+\/]/g,function(g){return g=="+"?"-":"_"})},w=function(d){return d.replace(/[^A-Za-z0-9\+\/]/g,"")},m=function(d){for(var g,j,$,ve,de="",ht=d.length%3,qe=0;qe<d.length;){if((j=d.charCodeAt(qe++))>255||($=d.charCodeAt(qe++))>255||(ve=d.charCodeAt(qe++))>255)throw new TypeError("invalid character found");g=j<<16|$<<8|ve,de+=a[g>>18&63]+a[g>>12&63]+a[g>>6&63]+a[g&63]}return ht?de.slice(0,ht-3)+"===".substring(ht):de},A=i?function(d){return btoa(d)}:s?function(d){return Buffer.from(d,"binary").toString("base64")}:m,b=s?function(d){return Buffer.from(d).toString("base64")}:function(d){for(var g=4096,j=[],$=0,ve=d.length;$<ve;$+=g)j.push(l.apply(null,d.subarray($,$+g)));return A(j.join(""))},k=function(d,g){return g===void 0&&(g=!1),g?S(b(d)):b(d)},M=function(d){if(d.length<2){var g=d.charCodeAt(0);return g<128?d:g<2048?l(192|g>>>6)+l(128|g&63):l(224|g>>>12&15)+l(128|g>>>6&63)+l(128|g&63)}else{var g=65536+(d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320);return l(240|g>>>18&7)+l(128|g>>>12&63)+l(128|g>>>6&63)+l(128|g&63)}},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,I=function(d){return d.replace(D,M)},y=s?function(d){return Buffer.from(d,"utf8").toString("base64")}:c?function(d){return b(c.encode(d))}:function(d){return A(I(d))},H=function(d,g){return g===void 0&&(g=!1),g?S(y(d)):y(d)},T=function(d){return H(d,!0)},oe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,U=function(d){switch(d.length){case 4:var g=(7&d.charCodeAt(0))<<18|(63&d.charCodeAt(1))<<12|(63&d.charCodeAt(2))<<6|63&d.charCodeAt(3),j=g-65536;return l((j>>>10)+55296)+l((j&1023)+56320);case 3:return l((15&d.charCodeAt(0))<<12|(63&d.charCodeAt(1))<<6|63&d.charCodeAt(2));default:return l((31&d.charCodeAt(0))<<6|63&d.charCodeAt(1))}},he=function(d){return d.replace(oe,U)},R=function(d){if(d=d.replace(/\s+/g,""),!p.test(d))throw new TypeError("malformed base64.");d+="==".slice(2-(d.length&3));for(var g,j="",$,ve,de=0;de<d.length;)g=h[d.charAt(de++)]<<18|h[d.charAt(de++)]<<12|($=h[d.charAt(de++)])<<6|(ve=h[d.charAt(de++)]),j+=$===64?l(g>>16&255):ve===64?l(g>>16&255,g>>8&255):l(g>>16&255,g>>8&255,g&255);return j},Ie=o?function(d){return atob(w(d))}:s?function(d){return Buffer.from(d,"base64").toString("binary")}:R,Mt=s?function(d){return _(Buffer.from(d,"base64"))}:function(d){return _(Ie(d).split("").map(function(g){return g.charCodeAt(0)}))},Ht=function(d){return Mt(jt(d))},mr=s?function(d){return Buffer.from(d,"base64").toString("utf8")}:u?function(d){return u.decode(Mt(d))}:function(d){return he(Ie(d))},jt=function(d){return w(d.replace(/[-_]/g,function(g){return g=="-"?"+":"/"}))},ft=function(d){return mr(jt(d))},gr=function(d){if(typeof d!="string")return!1;var g=d.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(g)||!/[^\s0-9a-zA-Z\-_]/.test(g)},Vt=function(d){return{value:d,enumerable:!1,writable:!0,configurable:!0}},zt=function(){var d=function(g,j){return Object.defineProperty(String.prototype,g,Vt(j))};d("fromBase64",function(){return ft(this)}),d("toBase64",function(g){return H(this,g)}),d("toBase64URI",function(){return H(this,!0)}),d("toBase64URL",function(){return H(this,!0)}),d("toUint8Array",function(){return Ht(this)})},Wt=function(){var d=function(g,j){return Object.defineProperty(Uint8Array.prototype,g,Vt(j))};d("toBase64",function(g){return k(this,g)}),d("toBase64URI",function(){return k(this,!0)}),d("toBase64URL",function(){return k(this,!0)})},yr=function(){zt(),Wt()},Te={version:n,VERSION:r,atob:Ie,atobPolyfill:R,btoa:A,btoaPolyfill:m,fromBase64:ft,toBase64:H,encode:H,encodeURI:T,encodeURL:T,utob:I,btou:he,decode:ft,isValid:gr,fromUint8Array:k,toUint8Array:Ht,extendString:zt,extendUint8Array:Wt,extendBuiltins:yr};return Te.Base64={},Object.keys(Te).forEach(function(d){return Te.Base64[d]=Te[d]}),Te})})(Fn);var mo=Fn.exports;const L=Mr,go=jr.data,yo=zr.data,Mn=vo,Hn=mo.Base64,bo=new Mn(Hn.toUint8Array(go)),wo=new Mn(Hn.toUint8Array(yo));function O(e,t){return(e&t)!==0}const se={Initial:0,ExtendOrZWJ:1,NotBoundary:2};function xo(e,t){const n=e.length;let r=0,o=se.Initial;for(let i=t;i+1<n;i++){const s=e[i+0],u=e[i+1];switch(O(s,L.Regional_Indicator)||(r=0),o){case se.NotBoundary:case se.Initial:O(s,L.Extended_Pictographic)?o=se.ExtendOrZWJ:o=se.Initial;break;case se.ExtendOrZWJ:O(s,L.Extend)?o=se.ExtendOrZWJ:O(s,L.ZWJ)&&O(u,L.Extended_Pictographic)?o=se.NotBoundary:o=se.Initial;break}if(!(O(s,L.CR)&&O(u,L.LF))){if(O(s,L.Control|L.CR|L.LF)||O(u,L.Control|L.CR|L.LF))return i+1-t;if(!(O(s,L.L)&&O(u,L.L|L.V|L.LV|L.LVT))&&!(O(s,L.LV|L.V)&&O(u,L.V|L.T))&&!(O(s,L.LVT|L.T)&&O(u,L.T))&&!O(u,L.Extend|L.ZWJ)&&!O(u,L.SpacingMark)&&!O(s,L.Prepend)&&o!==se.NotBoundary){if(O(s,L.Regional_Indicator)&&O(u,L.Regional_Indicator)&&r%2===0){r++;continue}return i+1-t}}}return n-t}var So=function(t){const n=[],r=[0],o=[];for(let i=0;i<t.length;){const s=t.codePointAt(i);o.push(bo.get(s)|wo.get(s)),i+=s>65535?2:1,r.push(i)}for(let i=0;i<o.length;){const s=xo(o,i),u=r[i],c=r[i+s];n.push(t.slice(u,c)),i+=s}return n};const ko=Fr(So),Ao=e=>e.normalize("NFKD").split(""),tn=/^\s+$/,nn=/^[`~!@#$%^&*()\-=_+{}[\]\|\\;':",./<>?]+$/,At={insertOrder:"insertOrder",bestMatch:"bestMatch"},Co={keySelector:e=>e,threshold:.6,ignoreCase:!0,ignoreSymbols:!0,normalizeWhitespace:!0,returnMatchData:!1,useDamerau:!0,useSellers:!0,useSeparatedUnicode:!1,sortBy:At.bestMatch},No=()=>{},Eo=e=>e instanceof Array?e:[e];function jn(e,t){const n=t.ignoreCase?e.toLocaleLowerCase():e,r=[],o=[];let i=!0,s=0;const u=t.useSeparatedUnicode?Ao(n):ko(n);for(const c of u)tn.lastIndex=0,nn.lastIndex=0,t.normalizeWhitespace&&tn.test(c)?i||(r.push(" "),o.push(s),i=!0):t.ignoreSymbols&&nn.test(c)||(t.useSeparatedUnicode?r.push(c):r.push(c.normalize()),o.push(s),i=!1),s+=c.length;for(o.push(e.length);r[r.length-1]===" ";)r.pop(),o.pop();return{original:e,normal:r,map:o}}function Lo(e,t){return{index:t[e.start],length:t[e.end+1]-t[e.start]}}function Vn(e,t){if(t===0)return{index:0,length:0};let n=t;for(let r=e.length-2;r>0&&n>1;r--){const o=e[r];n=o[n]<o[n-1]?n:n-1}return{start:n-1,end:t-1}}function Io(){return{start:0,end:0}}const To=()=>!0,Po=(e,t)=>e<t;function Uo(e,t){const n=new Array(e);for(let r=0;r<e;r++)n[r]=new Array(t),n[r][0]=r;for(let r=0;r<t;r++)n[0][r]=r;return n}function Do(e,t){const n=new Array(e);n[0]=new Array(t).fill(0);for(let r=1;r<e;r++)n[r]=new Array(t),n[r][0]=r;return n}function zn(e,t,n,r,o){const i=n[r],s=n[r+1],u=e[r]===t[o]?0:1;let c,f=s[o]+1;(c=i[o+1]+1)<f&&(f=c),(c=i[o]+u)<f&&(f=c),s[o+1]=f}function Wn(e,t,n,r){for(let o=0;o<e.length;o++)zn(e,t,n,o,r)}function Bo(e,t,n,r){if(r===0){Wn(e,t,n,r);return}e.length>0&&zn(e,t,n,0,r);for(let o=1;o<e.length;o++){const i=n[o-1],s=n[o],u=n[o+1],c=e[o]===t[r]?0:1;let f,a=u[r]+1;(f=s[r+1]+1)<a&&(a=f),(f=s[r]+c)<a&&(a=f),e[o]===t[r-1]&&e[o-1]===t[r]&&(f=i[r-1]+c)<a&&(a=f),u[r+1]=a}}function Oo(e,t,n){let r=e;for(let o=0;o<t.length;o++){const i=t[o];r.children[i]==null&&(r.children[i]={children:{},candidates:[],depth:0}),r.depth=Math.max(r.depth,t.length-o),r=r.children[i]}r.candidates.push(n)}function rn(e,t,n,r){for(const o of n){const i=Eo(r.keySelector(o)).map((s,u)=>({index:t,keyIndex:u,item:o,normalized:jn(s,r)}));t++;for(const s of i)Oo(e,s.normalized.normal,s)}}function Ro(e,t){const n=t.score-e.score;if(n!==0)return n;const r=e.match.start-t.match.start;if(r!==0)return r;const o=e.keyIndex-t.keyIndex;if(o!==0)return o;const i=e.lengthDiff-t.lengthDiff;return i!==0?i:Xn(e,t)}function Xn(e,t){return e.index-t.index}function Fo(e){switch(e){case At.bestMatch:return Ro;case At.insertOrder:return Xn;default:throw new Error(`unknown sortBy method ${e}`)}}function qn(e,t,n,r,o,i,s){const u={item:n.item,normalized:n.normalized,score:r,match:o,index:n.index,keyIndex:n.keyIndex,lengthDiff:i};t[n.index]==null?(t[n.index]=e.length,e.push(u)):s(u,e[t[n.index]])<0&&(e[t[n.index]]=u)}const Mo=Math.max,Ho=e=>e;function jo(e,t,n,r,o){const i=t+o,s=Math.min(n.length,t+e.depth+1),u=Math.ceil((i+s)/2);return 1-(u-s)/u>=r}function Vo(e,t,n,r,o,i){return 1-Math.min(o,i-(e.depth+1))/n.length>=r}function zo(e,t,n,r,o,i,s){const u=[];for(const f in e.children){const a=e.children[f];u.push([a,1,f,0,t.length])}const c=new Array(e.depth);for(;u.length!==0;){const[f,a,h,p,l]=u.pop();c[a-1]=h,n.score(t,c,r,a-1);const _=a,S=r[r.length-1][_];let w=p,m=l;if(n.shouldUpdateScore(S,l)&&(w=_,m=S),f.candidates.length>0){const A=n.getLength(t.length,a),b=1-m/A;if(b>=s.threshold){const k=Vn(r,w),M=Math.abs(a-t.length);for(const D of f.candidates)qn(o,i,D,b,k,M,n.compareItems)}}for(const A in f.children){const b=f.children[A];n.shouldContinue(b,a,t,s.threshold,m,S)&&u.push([b,a+1,A,w,m])}}}function Wo(e,t,n){const r=n.useSellers?Do:Uo,o={score:n.useDamerau?Bo:Wn,getLength:n.useSellers?Ho:Mo,shouldUpdateScore:n.useSellers?Po:To,shouldContinue:n.useSellers?Vo:jo,walkBack:n.useSellers?Vn:Io,compareItems:Fo(n.sortBy)},i={},s=[],u=r(e.length+1,t.depth+1);if(n.threshold<=0||e.length===0)for(const f of t.candidates)qn(s,i,f,0,{index:0,length:0},e.length,o.compareItems);zo(t,e,o,u,s,i,n);const c=s.sort(o.compareItems);if(n.returnMatchData){const f=n.useSellers?Lo:No;return c.map(a=>({item:a.item,original:a.normalized.original,key:a.normalized.normal.join(""),score:a.score,match:f(a.match,a.normalized.map)}))}return c.map(f=>f.item)}class Ze{constructor(t,n){this.options=Object.assign({},Co,n),this.trie={children:{},candidates:[],depth:0},rn(this.trie,0,t,this.options),this.count=t.length}add(...t){rn(this.trie,this.count,t,this.options),this.count+=t.length}search(t,n){return n=Object.assign({},this.options,n),Wo(jn(t,this.options).normal,this.trie,n)}}const Zn=0,Gn=1;var me,He,Ae,Ce,ge,Ne,je,Ve;class Xo{constructor(t){V(this,me,void 0);V(this,He,{kind:re.None});V(this,Ae,!0);V(this,Ce,[{name:"School",hidden:!0},{name:"Board",hidden:!1}]);V(this,ge,void 0);V(this,Ne,void 0);V(this,je,new Ze([]));V(this,Ve,new Ze([]));z(this,me,""),z(this,ge,t),z(this,Ne,Array.from(Nr(x(this,ge),n=>({ghg_kg:Lr(n,r=>r.ghg_kg),school:null,board:n[0].board}),n=>n.board).values()))}async init(){await Yt(),z(this,je,new Ze(x(this,ge),{keySelector:t=>t.board+" "+t.school})),await Yt(),z(this,Ve,new Ze(x(this,Ne),{keySelector:t=>t.board+" "+t.school}))}getFilteredRows(){const t=x(this,Ae);let n=[];return x(this,me)==""?n=t?x(this,Ne):x(this,ge):n=(t?x(this,Ve):x(this,je)).search(x(this,me)),t?(console.log("Aggregating, so no filter"),n):this.focus().kind==re.Board?(console.log("FILTERING"),n.filter(r=>r.board==this.focus().value)):n}columns(){return x(this,Ce)}setFocus(t){z(this,He,t)}focus(){return x(this,He)}setSearchQuery(t){z(this,me,t)}setAggregateSchoolboards(t){z(this,Ae,t),x(this,Ce)[Zn].hidden=t,x(this,Ce)[Gn].hidden=!t}aggregateSchoolBoards(){return x(this,Ae)}}me=new WeakMap,He=new WeakMap,Ae=new WeakMap,Ce=new WeakMap,ge=new WeakMap,Ne=new WeakMap,je=new WeakMap,Ve=new WeakMap;function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,typeof(o=function(i,s){if(typeof i!="object"||i===null)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var c=u.call(i,"string");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(r.key))=="symbol"?o:String(o),r)}var o}function X(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ct(e,t)}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ct(e,t)}function sn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(o,i){if(o){if(typeof o=="string")return un(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?un(o,i):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q;(function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Rendered=3]="Rendered",e[e.Error=4]="Error"})(Q||(Q={}));var it,C,Yn,Kn,Be,an,Qn,et={},Jn=[],qo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _e(e,t){for(var n in t)e[n]=t[n];return e}function $n(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?it.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Ke(e,s,r,o,null)}function Ke(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Yn};return o==null&&C.vnode!=null&&C.vnode(i),i}function ce(e){return e.children}function Qe(e,t){this.props=e,this.context=t}function Fe(e,t){if(t==null)return e.__?Fe(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Fe(e):null}function er(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return er(e)}}function Nt(e){(!e.__d&&(e.__d=!0)&&Be.push(e)&&!tt.__r++||an!==C.debounceRendering)&&((an=C.debounceRendering)||setTimeout)(tt)}function tt(){for(var e;tt.__r=Be.length;)e=Be.sort(function(t,n){return t.__v.__b-n.__v.__b}),Be=[],e.some(function(t){var n,r,o,i,s,u;t.__d&&(s=(i=(n=t).__v).__e,(u=n.__P)&&(r=[],(o=_e({},i)).__v=i.__v+1,Bt(u,i,o,n.__n,u.ownerSVGElement!==void 0,i.__h!=null?[s]:null,r,s??Fe(i),i.__h),or(r,i),i.__e!=s&&er(i)))})}function tr(e,t,n,r,o,i,s,u,c,f){var a,h,p,l,_,S,w,m=r&&r.__k||Jn,A=m.length;for(n.__k=[],a=0;a<t.length;a++)if((l=n.__k[a]=(l=t[a])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?Ke(null,l,null,null,l):Array.isArray(l)?Ke(ce,{children:l},null,null,null):l.__b>0?Ke(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(p=m[a])===null||p&&l.key==p.key&&l.type===p.type)m[a]=void 0;else for(h=0;h<A;h++){if((p=m[h])&&l.key==p.key&&l.type===p.type){m[h]=void 0;break}p=null}Bt(e,l,p=p||et,o,i,s,u,c,f),_=l.__e,(h=l.ref)&&p.ref!=h&&(w||(w=[]),p.ref&&w.push(p.ref,null,l),w.push(h,l.__c||_,l)),_!=null?(S==null&&(S=_),typeof l.type=="function"&&l.__k===p.__k?l.__d=c=nr(l,c,e):c=rr(e,l,p,m,_,c),typeof n.type=="function"&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=e&&(c=Fe(p))}for(n.__e=S,a=A;a--;)m[a]!=null&&sr(m[a],m[a]);if(w)for(a=0;a<w.length;a++)ir(w[a],w[++a],w[++a])}function nr(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t=typeof r.type=="function"?nr(r,t,n):rr(n,r,r,o,r.__e,t));return t}function rr(e,t,n,r,o,i){var s,u,c;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||o!=i||o.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(o),s=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==o)break e;e.insertBefore(o,i),s=i}return s!==void 0?s:o.nextSibling}function cn(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||qo.test(t)?n:n+"px"}function Ge(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||cn(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||cn(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?fn:ln,i):e.removeEventListener(t,i?fn:ln,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function ln(e){this.l[e.type+!1](C.event?C.event(e):e)}function fn(e){this.l[e.type+!0](C.event?C.event(e):e)}function Bt(e,t,n,r,o,i,s,u,c){var f,a,h,p,l,_,S,w,m,A,b,k,M,D,I,y=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,u=t.__e=n.__e,t.__h=null,i=[u]),(f=C.__b)&&f(t);try{e:if(typeof y=="function"){if(w=t.props,m=(f=y.contextType)&&r[f.__c],A=f?m?m.props.value:f.__:r,n.__c?S=(a=t.__c=n.__c).__=a.__E:("prototype"in y&&y.prototype.render?t.__c=a=new y(w,A):(t.__c=a=new Qe(w,A),a.constructor=y,a.render=Go),m&&m.sub(a),a.props=w,a.state||(a.state={}),a.context=A,a.__n=r,h=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),y.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=_e({},a.__s)),_e(a.__s,y.getDerivedStateFromProps(w,a.__s))),p=a.props,l=a.state,h)y.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(y.getDerivedStateFromProps==null&&w!==p&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(w,A),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(w,a.__s,A)===!1||t.__v===n.__v){for(a.props=w,a.state=a.__s,t.__v!==n.__v&&(a.__d=!1),a.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(H){H&&(H.__=t)}),b=0;b<a._sb.length;b++)a.__h.push(a._sb[b]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(w,a.__s,A),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(p,l,_)})}if(a.context=A,a.props=w,a.__v=t,a.__P=e,k=C.__r,M=0,"prototype"in y&&y.prototype.render){for(a.state=a.__s,a.__d=!1,k&&k(t),f=a.render(a.props,a.state,a.context),D=0;D<a._sb.length;D++)a.__h.push(a._sb[D]);a._sb=[]}else do a.__d=!1,k&&k(t),f=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++M<25);a.state=a.__s,a.getChildContext!=null&&(r=_e(_e({},r),a.getChildContext())),h||a.getSnapshotBeforeUpdate==null||(_=a.getSnapshotBeforeUpdate(p,l)),I=f!=null&&f.type===ce&&f.key==null?f.props.children:f,tr(e,Array.isArray(I)?I:[I],t,n,r,o,i,s,u,c),a.base=t.__e,t.__h=null,a.__h.length&&s.push(a),S&&(a.__E=a.__=null),a.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Zo(n.__e,t,n,r,o,i,s,c);(f=C.diffed)&&f(t)}catch(H){t.__v=null,(c||i!=null)&&(t.__e=u,t.__h=!!c,i[i.indexOf(u)]=null),C.__e(H,t,n)}}function or(e,t){C.__c&&C.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){C.__e(r,n.__v)}})}function Zo(e,t,n,r,o,i,s,u){var c,f,a,h=n.props,p=t.props,l=t.type,_=0;if(l==="svg"&&(o=!0),i!=null){for(;_<i.length;_++)if((c=i[_])&&"setAttribute"in c==!!l&&(l?c.localName===l:c.nodeType===3)){e=c,i[_]=null;break}}if(e==null){if(l===null)return document.createTextNode(p);e=o?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,p.is&&p),i=null,u=!1}if(l===null)h===p||u&&e.data===p||(e.data=p);else{if(i=i&&it.call(e.childNodes),f=(h=n.props||et).dangerouslySetInnerHTML,a=p.dangerouslySetInnerHTML,!u){if(i!=null)for(h={},_=0;_<e.attributes.length;_++)h[e.attributes[_].name]=e.attributes[_].value;(a||f)&&(a&&(f&&a.__html==f.__html||a.__html===e.innerHTML)||(e.innerHTML=a&&a.__html||""))}if(function(S,w,m,A,b){var k;for(k in m)k==="children"||k==="key"||k in w||Ge(S,k,null,m[k],A);for(k in w)b&&typeof w[k]!="function"||k==="children"||k==="key"||k==="value"||k==="checked"||m[k]===w[k]||Ge(S,k,w[k],m[k],A)}(e,p,h,o,u),a)t.__k=[];else if(_=t.props.children,tr(e,Array.isArray(_)?_:[_],t,n,r,o&&l!=="foreignObject",i,s,i?i[0]:n.__k&&Fe(n,0),u),i!=null)for(_=i.length;_--;)i[_]!=null&&$n(i[_]);u||("value"in p&&(_=p.value)!==void 0&&(_!==e.value||l==="progress"&&!_||l==="option"&&_!==h.value)&&Ge(e,"value",_,h.value,!1),"checked"in p&&(_=p.checked)!==void 0&&_!==e.checked&&Ge(e,"checked",_,h.checked,!1))}return e}function ir(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){C.__e(r,n)}}function sr(e,t,n){var r,o;if(C.unmount&&C.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ir(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){C.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&sr(r[o],t,n||typeof e.type!="function");n||e.__e==null||$n(e.__e),e.__=e.__e=e.__d=void 0}function Go(e,t,n){return this.constructor(e,n)}function Oe(e,t,n){var r,o,i;C.__&&C.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],Bt(t,e=(!r&&n||t).__k=v(ce,null,[e]),o||et,et,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?it.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r),or(i,e)}function ur(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(e=="x"?t:3&t|8).toString(16)})}it=Jn.slice,C={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(u){e=u}throw e}},Yn=0,Kn=function(e){return e!=null&&e.constructor===void 0},Qe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_e({},this.state),typeof e=="function"&&(e=e(_e({},n),this.props)),e&&_e(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Nt(this))},Qe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Nt(this))},Qe.prototype.render=ce,Be=[],tt.__r=0,Qn=0;var st=function(){function e(t){this._id=void 0,this._id=t||ur()}return X(e,[{key:"id",get:function(){return this._id}}]),e}();function Yo(e){return v(e.parentElement||"span",{dangerouslySetInnerHTML:{__html:e.content}})}function ar(e,t){return v(Yo,{content:e,parentElement:t})}var W,Ot=function(e){function t(r){var o;return(o=e.call(this)||this).data=void 0,o.update(r),o}F(t,e);var n=t.prototype;return n.cast=function(r){return r instanceof HTMLElement?ar(r.outerHTML):r},n.update=function(r){return this.data=this.cast(r),this},t}(st),bt=function(e){function t(r){var o;return(o=e.call(this)||this)._cells=void 0,o.cells=r||[],o}F(t,e);var n=t.prototype;return n.cell=function(r){return this._cells[r]},n.toArray=function(){return this.cells.map(function(r){return r.data})},t.fromCells=function(r){return new t(r.map(function(o){return new Ot(o.data)}))},X(t,[{key:"cells",get:function(){return this._cells},set:function(r){this._cells=r}},{key:"length",get:function(){return this.cells.length}}]),t}(st),ut=function(e){function t(n){var r;return(r=e.call(this)||this)._rows=void 0,r._length=void 0,r.rows=n instanceof Array?n:n instanceof bt?[n]:[],r}return F(t,e),t.prototype.toArray=function(){return this.rows.map(function(n){return n.toArray()})},t.fromRows=function(n){return new t(n.map(function(r){return bt.fromCells(r.cells)}))},t.fromArray=function(n){return new t((n=function(r){return!r[0]||r[0]instanceof Array?r:[r]}(n)).map(function(r){return new bt(r.map(function(o){return new Ot(o)}))}))},X(t,[{key:"rows",get:function(){return this._rows},set:function(n){this._rows=n}},{key:"length",get:function(){return this._length||this.rows.length},set:function(n){this._length=n}}]),t}(st),Rt=function(){function e(){this.callbacks=void 0}var t=e.prototype;return t.init=function(n){this.callbacks||(this.callbacks={}),n&&!this.callbacks[n]&&(this.callbacks[n]=[])},t.listeners=function(){return this.callbacks},t.on=function(n,r){return this.init(n),this.callbacks[n].push(r),this},t.off=function(n,r){var o=n;return this.init(),this.callbacks[o]&&this.callbacks[o].length!==0?(this.callbacks[o]=this.callbacks[o].filter(function(i){return i!=r}),this):this},t.emit=function(n){var r=arguments,o=n;return this.init(o),this.callbacks[o].length>0&&(this.callbacks[o].forEach(function(i){return i.apply(void 0,[].slice.call(r,1))}),!0)},e}();(function(e){e[e.Initiator=0]="Initiator",e[e.ServerFilter=1]="ServerFilter",e[e.ServerSort=2]="ServerSort",e[e.ServerLimit=3]="ServerLimit",e[e.Extractor=4]="Extractor",e[e.Transformer=5]="Transformer",e[e.Filter=6]="Filter",e[e.Sort=7]="Sort",e[e.Limit=8]="Limit"})(W||(W={}));var fe=function(e){function t(r){var o;return(o=e.call(this)||this).id=void 0,o._props=void 0,o._props={},o.id=ur(),r&&o.setProps(r),o}F(t,e);var n=t.prototype;return n.process=function(){var r=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,r),this.emit.apply(this,["beforeProcess"].concat(r));var o=this._process.apply(this,r);return this.emit.apply(this,["afterProcess"].concat(r)),o},n.setProps=function(r){return Object.assign(this._props,r),this.emit("propsUpdated",this),this},X(t,[{key:"props",get:function(){return this._props}}]),t}(Rt),Ko=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(n){return this.props.keyword?(r=String(this.props.keyword).trim(),o=this.props.columns,i=this.props.ignoreHiddenColumns,s=n,u=this.props.selector,r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new ut(s.rows.filter(function(c,f){return c.cells.some(function(a,h){if(!a||i&&o&&o[h]&&typeof o[h]=="object"&&o[h].hidden)return!1;var p="";if(typeof u=="function")p=u(a.data,f,h);else if(typeof a.data=="object"){var l=a.data;l&&l.props&&l.props.content&&(p=l.props.content)}else p=String(a.data);return new RegExp(r,"gi").test(p)})}))):n;var r,o,i,s,u},X(t,[{key:"type",get:function(){return W.Filter}}]),t}(fe);function N(){var e="gridjs";return""+e+[].slice.call(arguments).reduce(function(t,n){return t+"-"+n},"")}function P(){return[].slice.call(arguments).map(function(e){return e?e.toString():""}).filter(function(e){return e}).reduce(function(e,t){return(e||"")+" "+t},"").trim()}var We,B,wt,hn,dn=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(n){if(!this.props.keyword)return n;var r={};return this.props.url&&(r.url=this.props.url(n.url,this.props.keyword)),this.props.body&&(r.body=this.props.body(n.body,this.props.keyword)),E({},n,r)},X(t,[{key:"type",get:function(){return W.ServerFilter}}]),t}(fe),Me=0,cr=[],Je=[],pn=C.__b,_n=C.__r,vn=C.diffed,mn=C.__c,gn=C.unmount;function at(e,t){C.__h&&C.__h(B,e,Me||t),Me=0;var n=B.__H||(B.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Je}),n.__[e]}function pe(e){return Me=1,function(t,n,r){var o=at(We++,2);if(o.t=t,!o.__c&&(o.__=[bn(void 0,n),function(s){var u=o.__N?o.__N[0]:o.__[0],c=o.t(u,s);u!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=B,!B.u)){B.u=!0;var i=B.shouldComponentUpdate;B.shouldComponentUpdate=function(s,u,c){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(h){return h.__c});if(f.every(function(h){return!h.__N}))return!i||i.call(this,s,u,c);var a=!1;return f.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(a=!0)}}),!(!a&&o.__c.props===s)&&(!i||i.call(this,s,u,c))}}return o.__N||o.__}(bn,e)}function G(e,t){var n=at(We++,3);!C.__s&&fr(n.__H,t)&&(n.__=e,n.i=t,B.__H.__h.push(n))}function Xe(e){return Me=5,lr(function(){return{current:e}},[])}function lr(e,t){var n=at(We++,7);return fr(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Qo(){for(var e;e=cr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($e),e.__H.__h.forEach(Et),e.__H.__h=[]}catch(t){e.__H.__h=[],C.__e(t,e.__v)}}C.__b=function(e){B=null,pn&&pn(e)},C.__r=function(e){_n&&_n(e),We=0;var t=(B=e.__c).__H;t&&(wt===B?(t.__h=[],B.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Je,n.__N=n.i=void 0})):(t.__h.forEach($e),t.__h.forEach(Et),t.__h=[])),wt=B},C.diffed=function(e){vn&&vn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(cr.push(t)!==1&&hn===C.requestAnimationFrame||((hn=C.requestAnimationFrame)||Jo)(Qo)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Je&&(n.__=n.__V),n.i=void 0,n.__V=Je})),wt=B=null},C.__c=function(e,t){t.some(function(n){try{n.__h.forEach($e),n.__h=n.__h.filter(function(r){return!r.__||Et(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],C.__e(r,n.__v)}}),mn&&mn(e,t)},C.unmount=function(e){gn&&gn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{$e(r)}catch(o){t=o}}),n.__H=void 0,t&&C.__e(t,n.__v))};var yn=typeof requestAnimationFrame=="function";function Jo(e){var t,n=function(){clearTimeout(r),yn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);yn&&(t=requestAnimationFrame(n))}function $e(e){var t=B,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),B=t}function Et(e){var t=B;e.__c=e.__(),B=t}function fr(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function bn(e,t){return typeof t=="function"?t(e):t}function Y(){return function(e){var t=B.context[e.__c],n=at(We++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(B)),t.props.value):e.__}(pr)}var $o={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(e,t){return"Page "+e+" of "+t},page:function(e){return"Page "+e},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},ei=function(){function e(n){this._language=void 0,this._defaultLanguage=void 0,this._language=n,this._defaultLanguage=$o}var t=e.prototype;return t.getString=function(n,r){if(!r||!n)return null;var o=n.split("."),i=o[0];if(r[i]){var s=r[i];return typeof s=="string"?function(){return s}:typeof s=="function"?s:this.getString(o.slice(1).join("."),s)}return null},t.translate=function(n){var r,o=this.getString(n,this._language);return(r=o||this.getString(n,this._defaultLanguage))?r.apply(void 0,[].slice.call(arguments,1)):n},e}();function ct(){var e=Y();return function(t){var n;return(n=e.translator).translate.apply(n,[t].concat([].slice.call(arguments,1)))}}var wn=function(e){return function(t){return E({},t,{search:{keyword:e}})}};function Le(){return Y().store}function le(e){var t=Le(),n=pe(e(t.getState())),r=n[0],o=n[1];return G(function(){return t.subscribe(function(){var i=e(t.getState());r!==i&&o(i)})},[]),r}function ti(){var e,t=pe(void 0),n=t[0],r=t[1],o=Y(),i=o.search,s=ct(),u=Le().dispatch,c=le(function(l){return l.search});G(function(){n&&n.setProps({keyword:c==null?void 0:c.keyword})},[c,n]),G(function(){r(i.server?new dn({keyword:i.keyword,url:i.server.url,body:i.server.body}):new Ko({keyword:i.keyword,columns:o.header&&o.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||i.ignoreHiddenColumns===void 0,selector:i.selector})),i.keyword&&u(wn(i.keyword))},[i]),G(function(){return o.pipeline.register(n),function(){return o.pipeline.unregister(n)}},[o,n]);var f,a,h,p=function(l,_){return Me=8,lr(function(){return l},_)}((f=function(l){l.target instanceof HTMLInputElement&&u(wn(l.target.value))},a=n instanceof dn?i.debounceTimeout||250:0,function(){var l=arguments;return new Promise(function(_){h&&clearTimeout(h),h=setTimeout(function(){return _(f.apply(void 0,[].slice.call(l)))},a)})}),[i,n]);return v("div",{className:N(P("search",(e=o.className)==null?void 0:e.search))},v("input",{type:"search",placeholder:s("search.placeholder"),"aria-label":s("search.placeholder"),onInput:p,className:P(N("input"),N("search","input")),value:(c==null?void 0:c.keyword)||""}))}var xn=function(e){function t(){return e.apply(this,arguments)||this}F(t,e);var n=t.prototype;return n.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},n._process=function(r){var o=this.props.page;return new ut(r.rows.slice(o*this.props.limit,(o+1)*this.props.limit))},X(t,[{key:"type",get:function(){return W.Limit}}]),t}(fe),Sn=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(n){var r={};return this.props.url&&(r.url=this.props.url(n.url,this.props.page,this.props.limit)),this.props.body&&(r.body=this.props.body(n.body,this.props.page,this.props.limit)),E({},n,r)},X(t,[{key:"type",get:function(){return W.ServerLimit}}]),t}(fe);function ni(){var e=Y(),t=e.pagination,n=t.server,r=t.summary,o=r===void 0||r,i=t.nextButton,s=i===void 0||i,u=t.prevButton,c=u===void 0||u,f=t.buttonsCount,a=f===void 0?3:f,h=t.limit,p=h===void 0?10:h,l=t.page,_=l===void 0?0:l,S=t.resetPageOnUpdate,w=S===void 0||S,m=Xe(null),A=pe(_),b=A[0],k=A[1],M=pe(0),D=M[0],I=M[1],y=ct();G(function(){return m.current=n?new Sn({limit:p,page:b,url:n.url,body:n.body}):new xn({limit:p,page:b}),m.current instanceof Sn?e.pipeline.on("afterProcess",function(U){return I(U.length)}):m.current instanceof xn&&m.current.on("beforeProcess",function(U){return I(U.length)}),e.pipeline.on("updated",H),e.pipeline.register(m.current),e.pipeline.on("error",function(){I(0),k(0)}),function(){e.pipeline.unregister(m.current),e.pipeline.off("updated",H)}},[]);var H=function(U){w&&U!==m.current&&k(0)},T=function(){return Math.ceil(D/p)},oe=function(U){if(U>=T()||U<0||U===b)return null;k(U),m.current.setProps({page:U})};return v("div",{className:P(N("pagination"),e.className.pagination)},v(ce,null,o&&D>0&&v("div",{role:"status","aria-live":"polite",className:P(N("summary"),e.className.paginationSummary),title:y("pagination.navigate",b+1,T())},y("pagination.showing")," ",v("b",null,y(""+(b*p+1)))," ",y("pagination.to")," ",v("b",null,y(""+Math.min((b+1)*p,D)))," ",y("pagination.of")," ",v("b",null,y(""+D))," ",y("pagination.results"))),v("div",{className:N("pages")},c&&v("button",{tabIndex:0,role:"button",disabled:b===0,onClick:function(){return oe(b-1)},title:y("pagination.previous"),"aria-label":y("pagination.previous"),className:P(e.className.paginationButton,e.className.paginationButtonPrev)},y("pagination.previous")),function(){if(a<=0)return null;var U=Math.min(T(),a),he=Math.min(b,Math.floor(U/2));return b+Math.floor(U/2)>=T()&&(he=U-(T()-b)),v(ce,null,T()>U&&b-he>0&&v(ce,null,v("button",{tabIndex:0,role:"button",onClick:function(){return oe(0)},title:y("pagination.firstPage"),"aria-label":y("pagination.firstPage"),className:e.className.paginationButton},y("1")),v("button",{tabIndex:-1,className:P(N("spread"),e.className.paginationButton)},"...")),Array.from(Array(U).keys()).map(function(R){return b+(R-he)}).map(function(R){return v("button",{tabIndex:0,role:"button",onClick:function(){return oe(R)},className:P(b===R?P(N("currentPage"),e.className.paginationButtonCurrent):null,e.className.paginationButton),title:y("pagination.page",R+1),"aria-label":y("pagination.page",R+1)},y(""+(R+1)))}),T()>U&&T()>b+he+1&&v(ce,null,v("button",{tabIndex:-1,className:P(N("spread"),e.className.paginationButton)},"..."),v("button",{tabIndex:0,role:"button",onClick:function(){return oe(T()-1)},title:y("pagination.page",T()),"aria-label":y("pagination.page",T()),className:e.className.paginationButton},y(""+T()))))}(),s&&v("button",{tabIndex:0,role:"button",disabled:T()===b+1||T()===0,onClick:function(){return oe(b+1)},title:y("pagination.next"),"aria-label":y("pagination.next"),className:P(e.className.paginationButton,e.className.paginationButtonNext)},y("pagination.next"))))}function ri(e,t){return typeof e=="string"?e.indexOf("%")>-1?t/100*parseInt(e,10):parseInt(e,10):e}function xt(e){return e?Math.floor(e)+"px":""}function oi(e){var t=e.tableRef.cloneNode(!0);return t.style.position="absolute",t.style.width="100%",t.style.zIndex="-2147483640",t.style.visibility="hidden",v("div",{ref:function(n){n&&n.appendChild(t)}})}function ii(e){if(!e)return"";var t=e.split(" ");return t.length===1&&/([a-z][A-Z])+/g.test(e)?e:t.map(function(n,r){return r==0?n.toLowerCase():n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}).join("")}var we,te=new(function(){function e(){}var t=e.prototype;return t.format=function(n,r){return"[Grid.js] ["+r.toUpperCase()+"]: "+n},t.error=function(n,r){r===void 0&&(r=!1);var o=this.format(n,"error");if(r)throw Error(o);console.error(o)},t.warn=function(n){console.warn(this.format(n,"warn"))},t.info=function(n){console.info(this.format(n,"info"))},e}());(function(e){e[e.Header=0]="Header",e[e.Footer=1]="Footer",e[e.Cell=2]="Cell"})(we||(we={}));var si=function(){function e(){this.plugins=void 0,this.plugins=[]}var t=e.prototype;return t.get=function(n){return this.plugins.find(function(r){return r.id===n})},t.add=function(n){return n.id?this.get(n.id)?(te.error("Duplicate plugin ID: "+n.id),this):(this.plugins.push(n),this):(te.error("Plugin ID cannot be empty"),this)},t.remove=function(n){var r=this.get(n);return r&&this.plugins.splice(this.plugins.indexOf(r),1),this},t.list=function(n){var r;return r=n!=null||n!=null?this.plugins.filter(function(o){return o.position===n}):this.plugins,r.sort(function(o,i){return o.order&&i.order?o.order-i.order:1})},e}();function lt(e){var t=this,n=Y();if(e.pluginId){var r=n.plugin.get(e.pluginId);return r?v(ce,{},v(r.component,E({plugin:r},e.props))):null}return e.position!==void 0?v(ce,{},n.plugin.list(e.position).map(function(o){return v(o.component,E({plugin:o},t.props.props))})):null}var Se=function(e){function t(){var r;return(r=e.call(this)||this)._columns=void 0,r._columns=[],r}F(t,e);var n=t.prototype;return n.adjustWidth=function(r,o,i){var s=r.container,u=r.autoWidth;if(!s)return this;var c=s.clientWidth,f={};o.current&&u&&(Oe(v(oi,{tableRef:o.current}),i.current),f=function(l){var _=l.querySelector("table");if(!_)return{};var S=_.className,w=_.style.cssText;_.className=S+" "+N("shadowTable"),_.style.tableLayout="auto",_.style.width="auto",_.style.padding="0",_.style.margin="0",_.style.border="none",_.style.outline="none";var m=Array.from(_.parentNode.querySelectorAll("thead th")).reduce(function(A,b){var k;return b.style.width=b.clientWidth+"px",E(((k={})[b.getAttribute("data-column-id")]={minWidth:b.clientWidth},k),A)},{});return _.className=S,_.style.cssText=w,_.style.tableLayout="auto",Array.from(_.parentNode.querySelectorAll("thead th")).reduce(function(A,b){return A[b.getAttribute("data-column-id")].width=b.clientWidth,A},m)}(i.current));for(var a,h=q(t.tabularFormat(this.columns).reduce(function(l,_){return l.concat(_)},[]));!(a=h()).done;){var p=a.value;p.columns&&p.columns.length>0||(!p.width&&u?p.id in f&&(p.width=xt(f[p.id].width),p.minWidth=xt(f[p.id].minWidth)):p.width=xt(ri(p.width,c)))}return o.current&&u&&Oe(null,i.current),this},n.setSort=function(r,o){for(var i,s=q(o||this.columns||[]);!(i=s()).done;){var u=i.value;u.columns&&u.columns.length>0?u.sort=void 0:u.sort===void 0&&r?u.sort={}:u.sort?typeof u.sort=="object"&&(u.sort=E({},u.sort)):u.sort=void 0,u.columns&&this.setSort(r,u.columns)}},n.setResizable=function(r,o){for(var i,s=q(o||this.columns||[]);!(i=s()).done;){var u=i.value;u.resizable===void 0&&(u.resizable=r),u.columns&&this.setResizable(r,u.columns)}},n.setID=function(r){for(var o,i=q(r||this.columns||[]);!(o=i()).done;){var s=o.value;s.id||typeof s.name!="string"||(s.id=ii(s.name)),s.id||te.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),s.columns&&this.setID(s.columns)}},n.populatePlugins=function(r,o){for(var i,s=q(o);!(i=s()).done;){var u=i.value;u.plugin!==void 0&&r.add(E({id:u.id},u.plugin,{position:we.Cell}))}},t.fromColumns=function(r){for(var o,i=new t,s=q(r);!(o=s()).done;){var u=o.value;if(typeof u=="string"||Kn(u))i.columns.push({name:u});else if(typeof u=="object"){var c=u;c.columns&&(c.columns=t.fromColumns(c.columns).columns),typeof c.plugin=="object"&&c.data===void 0&&(c.data=null),i.columns.push(u)}}return i},t.createFromConfig=function(r){var o=new t;return r.from?o.columns=t.fromHTMLTable(r.from).columns:r.columns?o.columns=t.fromColumns(r.columns).columns:!r.data||typeof r.data[0]!="object"||r.data[0]instanceof Array||(o.columns=Object.keys(r.data[0]).map(function(i){return{name:i}})),o.columns.length?(o.setID(),o.setSort(r.sort),o.setResizable(r.resizable),o.populatePlugins(r.plugin,o.columns),o):null},t.fromHTMLTable=function(r){for(var o,i=new t,s=q(r.querySelector("thead").querySelectorAll("th"));!(o=s()).done;){var u=o.value;i.columns.push({name:u.innerHTML,width:u.width})}return i},t.tabularFormat=function(r){var o=[],i=r||[],s=[];if(i&&i.length){o.push(i);for(var u,c=q(i);!(u=c()).done;){var f=u.value;f.columns&&f.columns.length&&(s=s.concat(f.columns))}s.length&&(o=o.concat(this.tabularFormat(s)))}return o},t.leafColumns=function(r){var o=[],i=r||[];if(i&&i.length)for(var s,u=q(i);!(s=u()).done;){var c=s.value;c.columns&&c.columns.length!==0||o.push(c),c.columns&&(o=o.concat(this.leafColumns(c.columns)))}return o},t.maximumDepth=function(r){return this.tabularFormat([r]).length-1},X(t,[{key:"columns",get:function(){return this._columns},set:function(r){this._columns=r}},{key:"visibleColumns",get:function(){return this._columns.filter(function(r){return!r.hidden})}}]),t}(st),hr=function(){},kn=function(e){function t(r){var o;return(o=e.call(this)||this).data=void 0,o.set(r),o}F(t,e);var n=t.prototype;return n.get=function(){try{return Promise.resolve(this.data()).then(function(r){return{data:r,total:r.length}})}catch(r){return Promise.reject(r)}},n.set=function(r){return r instanceof Array?this.data=function(){return r}:r instanceof Function&&(this.data=r),this},t}(hr),dr=function(e){function t(r){var o;return(o=e.call(this)||this).options=void 0,o.options=r,o}F(t,e);var n=t.prototype;return n.handler=function(r){return typeof this.options.handle=="function"?this.options.handle(r):r.ok?r.json():(te.error("Could not fetch data: "+r.status+" - "+r.statusText,!0),null)},n.get=function(r){var o=E({},this.options,r);return typeof o.data=="function"?o.data(o):fetch(o.url,o).then(this.handler.bind(this)).then(function(i){return{data:o.then(i),total:typeof o.total=="function"?o.total(i):void 0}})},t}(hr),ui=function(){function e(){}return e.createFromConfig=function(t){var n=null;return t.data&&(n=new kn(t.data)),t.from&&(n=new kn(this.tableElementToArray(t.from)),t.from.style.display="none"),t.server&&(n=new dr(t.server)),n||te.error("Could not determine the storage type",!0),n},e.tableElementToArray=function(t){for(var n,r,o=[],i=q(t.querySelector("tbody").querySelectorAll("tr"));!(n=i()).done;){for(var s,u=[],c=q(n.value.querySelectorAll("td"));!(s=c()).done;){var f=s.value;f.childNodes.length===1&&f.childNodes[0].nodeType===Node.TEXT_NODE?u.push((r=f.innerHTML,new DOMParser().parseFromString(r,"text/html").documentElement.textContent)):u.push(ar(f.innerHTML))}o.push(u)}return o},e}(),An=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Z(e,t,n){if(!e.s){if(n instanceof xe){if(!n.s)return void(n.o=Z.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Z.bind(null,e,t),Z.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var xe=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{Z(r,1,i(this.v))}catch(s){Z(r,2,s)}return r}return this}return this.o=function(s){try{var u=s.v;1&s.s?Z(r,1,t?t(u):u):n?Z(r,1,n(u)):Z(r,2,u)}catch(c){Z(r,2,c)}},r},e}();function Cn(e){return e instanceof xe&&1&e.s}var ai=function(e){function t(r){var o;return(o=e.call(this)||this)._steps=new Map,o.cache=new Map,o.lastProcessorIndexUpdated=-1,r&&r.forEach(function(i){return o.register(i)}),o}F(t,e);var n=t.prototype;return n.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},n.register=function(r,o){if(o===void 0&&(o=null),r){if(r.type===null)throw Error("Processor type is not defined");r.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(r,o),this.afterRegistered(r)}},n.unregister=function(r){if(r){var o=this._steps.get(r.type);o&&o.length&&(this._steps.set(r.type,o.filter(function(i){return i!=r})),this.emit("updated",r))}},n.addProcessorByPriority=function(r,o){var i=this._steps.get(r.type);if(!i){var s=[];this._steps.set(r.type,s),i=s}if(o===null||o<0)i.push(r);else if(i[o]){var u=i.slice(0,o-1),c=i.slice(o+1);this._steps.set(r.type,u.concat(r).concat(c))}else i[o]=r},n.getStepsByType=function(r){return this.steps.filter(function(o){return o.type===r})},n.getSortedProcessorTypes=function(){return Object.keys(W).filter(function(r){return!isNaN(Number(r))}).map(function(r){return Number(r)})},n.process=function(r){try{var o=function(a){return i.lastProcessorIndexUpdated=u.length,i.emit("afterProcess",c),c},i=this,s=i.lastProcessorIndexUpdated,u=i.steps,c=r,f=function(a,h){try{var p=function(l,_,S){if(typeof l[An]=="function"){var w,m,A,b=l[An]();if(function I(y){try{for(;!(w=b.next()).done;)if((y=_(w.value))&&y.then){if(!Cn(y))return void y.then(I,A||(A=Z.bind(null,m=new xe,2)));y=y.v}m?Z(m,1,y):m=y}catch(H){Z(m||(m=new xe),2,H)}}(),b.return){var k=function(I){try{w.done||b.return()}catch{}return I};if(m&&m.then)return m.then(k,function(I){throw k(I)});k()}return m}if(!("length"in l))throw new TypeError("Object is not iterable");for(var M=[],D=0;D<l.length;D++)M.push(l[D]);return function(I,y,H){var T,oe,U=-1;return function he(R){try{for(;++U<I.length;)if((R=y(U))&&R.then){if(!Cn(R))return void R.then(he,oe||(oe=Z.bind(null,T=new xe,2)));R=R.v}T?Z(T,1,R):T=R}catch(Ie){Z(T||(T=new xe),2,Ie)}}(),T}(M,function(I){return _(M[I])})}(u,function(l){var _=i.findProcessorIndexByID(l.id),S=function(){if(_>=s)return Promise.resolve(l.process(c)).then(function(w){i.cache.set(l.id,c=w)});c=i.cache.get(l.id)}();if(S&&S.then)return S.then(function(){})})}catch(l){return h(l)}return p&&p.then?p.then(void 0,h):p}(0,function(a){throw te.error(a),i.emit("error",c),a});return Promise.resolve(f&&f.then?f.then(o):o())}catch(a){return Promise.reject(a)}},n.findProcessorIndexByID=function(r){return this.steps.findIndex(function(o){return o.id==r})},n.setLastProcessorIndex=function(r){var o=this.findProcessorIndexByID(r.id);this.lastProcessorIndexUpdated>o&&(this.lastProcessorIndexUpdated=o)},n.processorPropsUpdated=function(r){this.setLastProcessorIndex(r),this.emit("propsUpdated"),this.emit("updated",r)},n.afterRegistered=function(r){this.setLastProcessorIndex(r),this.emit("afterRegister"),this.emit("updated",r)},X(t,[{key:"steps",get:function(){for(var r,o=[],i=q(this.getSortedProcessorTypes());!(r=i()).done;){var s=this._steps.get(r.value);s&&s.length&&(o=o.concat(s))}return o.filter(function(u){return u})}}]),t}(Rt),ci=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(n){try{return Promise.resolve(this.props.storage.get(n))}catch(r){return Promise.reject(r)}},X(t,[{key:"type",get:function(){return W.Extractor}}]),t}(fe),li=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(n){var r=ut.fromArray(n.data);return r.length=n.total,r},X(t,[{key:"type",get:function(){return W.Transformer}}]),t}(fe),fi=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(n){return typeof n[1]!="function"}).reduce(function(n,r){var o;return E({},n,((o={})[r[0]]=r[1],o))},{})},X(t,[{key:"type",get:function(){return W.Initiator}}]),t}(fe),hi=function(e){function t(){return e.apply(this,arguments)||this}F(t,e);var n=t.prototype;return n.castData=function(r){if(!r||!r.length)return[];if(!this.props.header||!this.props.header.columns)return r;var o=Se.leafColumns(this.props.header.columns);return r[0]instanceof Array?r.map(function(i){var s=0;return o.map(function(u,c){return u.data!==void 0?(s++,typeof u.data=="function"?u.data(i):u.data):i[c-s]})}):typeof r[0]!="object"||r[0]instanceof Array?[]:r.map(function(i){return o.map(function(s,u){return s.data!==void 0?typeof s.data=="function"?s.data(i):s.data:s.id?i[s.id]:(te.error("Could not find the correct cell for column at position "+u+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},n._process=function(r){return{data:this.castData(r.data),total:r.total}},X(t,[{key:"type",get:function(){return W.Transformer}}]),t}(fe),di=function(){function e(){}return e.createFromConfig=function(t){var n=new ai;return t.storage instanceof dr&&n.register(new fi({serverStorageOptions:t.server})),n.register(new ci({storage:t.storage})),n.register(new hi({header:t.header})),n.register(new li),n},e}(),pi=function(e){var t=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return t.state},this.getListeners=function(){return t.listeners},this.dispatch=function(n){if(typeof n!="function")throw new Error("Reducer is not a function");if(t.isDispatching)throw new Error("Reducers may not dispatch actions");t.isDispatching=!0;var r=t.state;try{t.state=n(t.state)}finally{t.isDispatching=!1}for(var o,i=q(t.listeners);!(o=i()).done;)(0,o.value)(t.state,r);return t.state},this.subscribe=function(n){if(typeof n!="function")throw new Error("Listener is not a function");return t.listeners=[].concat(t.listeners,[n]),function(){return t.listeners=t.listeners.filter(function(r){return r!==n})}},this.state=e},pr=function(e,t){var n={__c:t="__cC"+Qn++,__:null,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.some(Nt)},this.sub=function(s){o.push(s);var u=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),u&&u.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}(),_i=function(){function e(){Object.assign(this,e.defaultConfig())}var t=e.prototype;return t.assign=function(n){return Object.assign(this,n)},t.update=function(n){return n?(this.assign(e.fromPartialConfig(E({},this,n))),this):this},e.defaultConfig=function(){return{store:new pi({status:Q.Init,header:void 0,data:null}),plugin:new si,tableRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},e.fromPartialConfig=function(n){var r=new e().assign(n);return typeof n.sort=="boolean"&&n.sort&&r.assign({sort:{multiColumn:!0}}),r.assign({header:Se.createFromConfig(r)}),r.assign({storage:ui.createFromConfig(r)}),r.assign({pipeline:di.createFromConfig(r)}),r.assign({translator:new ei(r.language)}),r.search&&r.plugin.add({id:"search",position:we.Header,component:ti}),r.pagination&&r.plugin.add({id:"pagination",position:we.Footer,component:ni}),r.plugins&&r.plugins.forEach(function(o){return r.plugin.add(o)}),r},e}();function _r(e){var t,n=Y();return v("td",E({role:e.role,colSpan:e.colSpan,"data-column-id":e.column&&e.column.id,className:P(N("td"),e.className,n.className.td),style:E({},e.style,n.style.td),onClick:function(r){e.messageCell||n.eventEmitter.emit("cellClick",r,e.cell,e.column,e.row)}},(t=e.column)?typeof t.attributes=="function"?t.attributes(e.cell.data,e.row,e.column):t.attributes:{}),e.column&&typeof e.column.formatter=="function"?e.column.formatter(e.cell.data,e.row,e.column):e.column&&e.column.plugin?v(lt,{pluginId:e.column.id,props:{column:e.column,cell:e.cell,row:e.row}}):e.cell.data)}function Ft(e){var t=Y(),n=le(function(r){return r.header});return v("tr",{className:P(N("tr"),t.className.tr),onClick:function(r){e.messageRow||t.eventEmitter.emit("rowClick",r,e.row)}},e.children?e.children:e.row.cells.map(function(r,o){var i=function(s){if(n){var u=Se.leafColumns(n.columns);if(u)return u[s]}return null}(o);return i&&i.hidden?null:v(_r,{key:r.id,cell:r,row:e.row,column:i})}))}function St(e){return v(Ft,{messageRow:!0},v(_r,{role:"alert",colSpan:e.colSpan,messageCell:!0,cell:new Ot(e.message),className:P(N("message"),e.className?e.className:null)}))}function vi(){var e=Y(),t=le(function(s){return s.data}),n=le(function(s){return s.status}),r=le(function(s){return s.header}),o=ct(),i=function(){return r?r.visibleColumns.length:0};return v("tbody",{className:P(N("tbody"),e.className.tbody)},t&&t.rows.map(function(s){return v(Ft,{key:s.id,row:s})}),n===Q.Loading&&(!t||t.length===0)&&v(St,{message:o("loading"),colSpan:i(),className:P(N("loading"),e.className.loading)}),n===Q.Rendered&&t&&t.length===0&&v(St,{message:o("noRecordsFound"),colSpan:i(),className:P(N("notfound"),e.className.notfound)}),n===Q.Error&&v(St,{message:o("error"),colSpan:i(),className:P(N("error"),e.className.error)}))}var mi=function(e){function t(){return e.apply(this,arguments)||this}F(t,e);var n=t.prototype;return n.validateProps=function(){for(var r,o=q(this.props.columns);!(r=o()).done;){var i=r.value;i.direction===void 0&&(i.direction=1),i.direction!==1&&i.direction!==-1&&te.error("Invalid sort direction "+i.direction)}},n.compare=function(r,o){return r>o?1:r<o?-1:0},n.compareWrapper=function(r,o){for(var i,s=0,u=q(this.props.columns);!(i=u()).done;){var c=i.value;if(s!==0)break;var f=r.cells[c.index].data,a=o.cells[c.index].data;s|=typeof c.compare=="function"?c.compare(f,a)*c.direction:this.compare(f,a)*c.direction}return s},n._process=function(r){var o=[].concat(r.rows);o.sort(this.compareWrapper.bind(this));var i=new ut(o);return i.length=r.length,i},X(t,[{key:"type",get:function(){return W.Sort}}]),t}(fe),Nn=function(e,t,n,r){return function(o){var i=o.sort?[].concat(o.sort.columns):[],s=i.length,u=i.find(function(_){return _.index===e}),c=!1,f=!1,a=!1,h=!1;if(u!==void 0?n?u.direction===-1?a=!0:h=!0:s===1?h=!0:s>1&&(f=!0,c=!0):s===0?c=!0:s>0&&!n?(c=!0,f=!0):s>0&&n&&(c=!0),f&&(i=[]),c)i.push({index:e,direction:t,compare:r});else if(h){var p=i.indexOf(u);i[p].direction=t}else if(a){var l=i.indexOf(u);i.splice(l,1)}return E({},o,{sort:{columns:i}})}},vr=function(e,t,n){return function(r){var o=(r.sort?[].concat(r.sort.columns):[]).find(function(i){return i.index===e});return E({},r,o?Nn(e,o.direction===1?-1:1,t,n)(r):Nn(e,1,t,n)(r))}},gi=function(e){function t(){return e.apply(this,arguments)||this}return F(t,e),t.prototype._process=function(n){var r={};return this.props.url&&(r.url=this.props.url(n.url,this.props.columns)),this.props.body&&(r.body=this.props.body(n.body,this.props.columns)),E({},n,r)},X(t,[{key:"type",get:function(){return W.ServerSort}}]),t}(fe);function yi(e){var t=Y(),n=ct(),r=pe(0),o=r[0],i=r[1],s=pe(void 0),u=s[0],c=s[1],f=le(function(l){return l.sort}),a=Le().dispatch,h=t.sort;G(function(){var l=p();l&&c(l)},[]),G(function(){return t.pipeline.register(u),function(){return t.pipeline.unregister(u)}},[t,u]),G(function(){if(f){var l=f.columns.find(function(_){return _.index===e.index});i(l?l.direction:0)}},[f]),G(function(){u&&f&&u.setProps({columns:f.columns})},[f]);var p=function(){var l=W.Sort;return h&&typeof h.server=="object"&&(l=W.ServerSort),t.pipeline.getStepsByType(l).length===0?l===W.ServerSort?new gi(E({columns:f?f.columns:[]},h.server)):new mi({columns:f?f.columns:[]}):null};return v("button",{tabIndex:-1,"aria-label":n("sort.sort"+(o===1?"Desc":"Asc")),title:n("sort.sort"+(o===1?"Desc":"Asc")),className:P(N("sort"),N("sort",function(l){return l===1?"asc":l===-1?"desc":"neutral"}(o)),t.className.sort),onClick:function(l){l.preventDefault(),l.stopPropagation(),a(vr(e.index,l.shiftKey===!0&&h.multiColumn,e.compare))}})}function bi(e){var t,n=function(s){return s instanceof MouseEvent?Math.floor(s.pageX):Math.floor(s.changedTouches[0].pageX)},r=function(s){s.stopPropagation();var u,c,f,a,h,p=parseInt(e.thRef.current.style.width,10)-n(s);u=function(l){return o(l,p)},(c=10)===void 0&&(c=100),t=function(){var l=[].slice.call(arguments);f?(clearTimeout(a),a=setTimeout(function(){Date.now()-h>=c&&(u.apply(void 0,l),h=Date.now())},Math.max(c-(Date.now()-h),0))):(u.apply(void 0,l),h=Date.now(),f=!0)},document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",t),document.addEventListener("touchmove",t)},o=function(s,u){s.stopPropagation();var c=e.thRef.current;u+n(s)>=parseInt(c.style.minWidth,10)&&(c.style.width=u+n(s)+"px")},i=function s(u){u.stopPropagation(),document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",s)};return v("div",{className:P(N("th"),N("resizable")),onMouseDown:r,onTouchStart:r,onClick:function(s){return s.stopPropagation()}})}function wi(e){var t=Y(),n=Xe(null),r=pe({}),o=r[0],i=r[1],s=Le().dispatch;G(function(){if(t.fixedHeader&&n.current){var a=n.current.offsetTop;typeof a=="number"&&i({top:a})}},[n]);var u,c=function(){return e.column.sort!=null},f=function(a){a.stopPropagation(),c()&&s(vr(e.index,a.shiftKey===!0&&t.sort.multiColumn,e.column.sort.compare))};return v("th",E({ref:n,"data-column-id":e.column&&e.column.id,className:P(N("th"),c()?N("th","sort"):null,t.fixedHeader?N("th","fixed"):null,t.className.th),onClick:f,style:E({},t.style.th,{minWidth:e.column.minWidth,width:e.column.width},o,e.style),onKeyDown:function(a){c()&&a.which===13&&f(a)},rowSpan:e.rowSpan>1?e.rowSpan:void 0,colSpan:e.colSpan>1?e.colSpan:void 0},(u=e.column)?typeof u.attributes=="function"?u.attributes(null,null,e.column):u.attributes:{},c()?{tabIndex:0}:{}),v("div",{className:N("th","content")},e.column.name!==void 0?e.column.name:e.column.plugin!==void 0?v(lt,{pluginId:e.column.plugin.id,props:{column:e.column}}):null),c()&&v(yi,E({index:e.index},e.column.sort)),e.column.resizable&&e.index<t.header.visibleColumns.length-1&&v(bi,{column:e.column,thRef:n}))}function xi(){var e,t=Y(),n=le(function(r){return r.header});return n?v("thead",{key:n.id,className:P(N("thead"),t.className.thead)},(e=Se.tabularFormat(n.columns)).map(function(r,o){return function(i,s,u){var c=Se.leafColumns(n.columns);return v(Ft,null,i.map(function(f){return f.hidden?null:function(a,h,p,l){var _=function(S,w,m){var A=Se.maximumDepth(S),b=m-w;return{rowSpan:Math.floor(b-A-A/b),colSpan:S.columns&&S.columns.length||1}}(a,h,l);return v(wi,{column:a,index:p,colSpan:_.colSpan,rowSpan:_.rowSpan})}(f,s,c.indexOf(f),u)}))}(r,o,e.length)})):null}var En=function(e){return function(t){return E({},t,{header:e})}};function Si(){var e=Y(),t=Xe(null),n=Le().dispatch;return G(function(){t&&n(function(r){return function(o){return E({},o,{tableRef:r})}}(t))},[t]),v("table",{ref:t,role:"grid",className:P(N("table"),e.className.table),style:E({},e.style.table,{height:e.height})},v(xi,null),v(vi,null))}function ki(){var e=pe(!0),t=e[0],n=e[1],r=Xe(null),o=Y();return G(function(){r.current.children.length===0&&n(!1)},[r]),t?v("div",{ref:r,className:P(N("head"),o.className.header),style:E({},o.style.header)},v(lt,{position:we.Header})):null}function Ai(){var e=Xe(null),t=pe(!0),n=t[0],r=t[1],o=Y();return G(function(){e.current.children.length===0&&r(!1)},[e]),n?v("div",{ref:e,className:P(N("footer"),o.className.footer),style:E({},o.style.footer)},v(lt,{position:we.Footer})):null}function Ci(){var e=Y(),t=Le().dispatch,n=le(function(u){return u.status}),r=le(function(u){return u.data}),o=le(function(u){return u.tableRef}),i={current:null};G(function(){return t(En(e.header)),s(),e.pipeline.on("updated",s),function(){return e.pipeline.off("updated",s)}},[]),G(function(){e.header&&n===Q.Loaded&&r!=null&&r.length&&t(En(e.header.adjustWidth(e,o,i)))},[r,e,i]);var s=function(){try{t(function(c){return E({},c,{status:Q.Loading})});var u=function(c,f){try{var a=Promise.resolve(e.pipeline.process()).then(function(h){t(function(p){return function(l){return p?E({},l,{data:p,status:Q.Loaded}):l}}(h)),setTimeout(function(){t(function(p){return p.status===Q.Loaded?E({},p,{status:Q.Rendered}):p})},0)})}catch(h){return f(h)}return a&&a.then?a.then(void 0,f):a}(0,function(c){te.error(c),t(function(f){return E({},f,{data:null,status:Q.Error})})});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(c){return Promise.reject(c)}};return v("div",{role:"complementary",className:P("gridjs",N("container"),n===Q.Loading?N("loading"):null,e.className.container),style:E({},e.style.container,{width:e.width})},n===Q.Loading&&v("div",{className:N("loading-bar")}),v(ki,null),v("div",{className:N("wrapper"),style:{height:e.height}},v(Si,null)),v(Ai,null),v("div",{ref:i,id:"gridjs-temp",className:N("temp")}))}var Ni=function(e){function t(r){var o;return(o=e.call(this)||this).config=void 0,o.plugin=void 0,o.config=new _i().assign({instance:sn(o),eventEmitter:sn(o)}).update(r),o.plugin=o.config.plugin,o}F(t,e);var n=t.prototype;return n.updateConfig=function(r){return this.config.update(r),this},n.createElement=function(){return v(pr.Provider,{value:this.config,children:v(Ci,{})})},n.forceRender=function(){return this.config&&this.config.container||te.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),Oe(this.createElement(),this.config.container),this},n.destroy=function(){this.config.pipeline.clearCache(),Oe(null,this.config.container)},n.render=function(r){return r||te.error("Container element cannot be null",!0),r.childNodes.length>0?(te.error("The container element "+r+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=r,Oe(this.createElement(),r),this)},t}(Rt);function Ei(e){return[e.school,e.board,Math.round(e.ghg_kg)]}var ye,ne,J,ee;const rt=class rt extends In{constructor(n,r){super(document.querySelector("#main_view")??ae());V(this,ye,void 0);V(this,ne,void 0);V(this,J,void 0);V(this,ee,void 0);z(this,ne,document.querySelector("#table_container")??ae()),z(this,ye,new Ni({columns:n.columns(),data:[],pagination:{limit:10}})),x(this,ye).render(x(this,ne)),x(this,ye).on("rowClick",(o,i)=>{if(console.log("ROW CLICK"),n.aggregateSchoolBoards()){const s=i.cells[Gn].data??ae();n.setFocus({kind:re.Board,value:s.toString()}),x(this,J).value=""}else{const s=i.cells[Zn].data??ae();n.setFocus({kind:re.School,value:s.toString()})}console.log(n),r.render(n)}),z(this,ee,document.getElementById("search_board")??ae()),x(this,ee).addEventListener("input",()=>{n.setSearchQuery(x(this,ee).value.toLocaleLowerCase()),this.render(n)}),x(this,ee).addEventListener("focus",()=>{n.setAggregateSchoolboards(!0);const o=x(this,ee).getBoundingClientRect().bottom;x(this,ne).style.visibility="visible",x(this,ne).style.transform=`translate(0px, ${o}px)`,r.render(n)}),x(this,ee).addEventListener("focusout",()=>{window.setTimeout(()=>{x(this,ne).style.visibility="hidden"},0)}),z(this,J,document.getElementById("search_school")??ae()),x(this,J).addEventListener("input",()=>{n.setSearchQuery(x(this,J).value.toLocaleLowerCase()),this.render(n)}),x(this,J).addEventListener("focus",()=>{n.setAggregateSchoolboards(!1);const o=x(this,J).getBoundingClientRect().bottom;x(this,ne).style.visibility="visible",x(this,ne).style.transform=`translate(0px, ${o}px)`,r.render(n)}),x(this,J).addEventListener("focusout",()=>{window.setTimeout(()=>{x(this,ne).style.visibility="hidden"},0)}),document.addEventListener("keydown",o=>{o.key=="Escape"&&(x(this,ee).blur(),x(this,J).blur())})}key(){return rt.key}render(n){let r=n.getFilteredRows();switch(console.log("NUM ROWS: ",r.length),x(this,ye).updateConfig({data:r.map(o=>Ei(o)),columns:n.columns()}).forceRender(),n.focus().kind){case re.School:x(this,J).value=n.focus().value;break;case re.Board:x(this,ee).value=n.focus().value;break;case re.None:x(this,ee).value="",x(this,J).value="";break}}};ye=new WeakMap,ne=new WeakMap,J=new WeakMap,ee=new WeakMap,dt(rt,"key",re.None);let Lt=rt;var ze;const ot=class ot extends In{constructor(n,r){super(document.querySelector("#board_view")??ae());V(this,ze,void 0);z(this,ze,document.querySelector("#board_name")??ae());const o=document.querySelector("#board_back")??ae();Rr(o,n,r)}render(n){const r=n.focus();console.log("FOCUS: "+r.value),x(this,ze).innerText="Board: "+r.value}key(){return ot.key}};ze=new WeakMap,dt(ot,"key",re.Todo);let It=ot;var Ee;class Li{constructor(t){V(this,Ee,void 0);z(this,Ee,t)}render(t){let n=this.activeView(t);for(const r of x(this,Ee))r.setVisible(r==n);n.render(t)}activeView(t){return x(this,Ee)[0]}}Ee=new WeakMap;let Ue=null;async function Ii(){const e=(await fetch(Or)).body||ae(),t=new DecompressionStream("gzip"),n=e.pipeThrough(t).getReader();let r="";for(;;){const{done:c,value:f}=await n.read();if(r+=new TextDecoder().decode(f),c)break}const o=Br(r),i=[];for(const c of o)i.push({school:c.Operation,board:c.City,ghg_kg:parseFloat(c["GHG Emissions KG"])});Ue=new Xo(i);const s=[],u=new Li(s);s.push(new Lt(Ue,u)),s.push(new It(Ue,u)),await Ue.init(),u.render(Ue)}Ii();
